"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[3446],{48032:(e,a,s)=>{s.d(a,{A:()=>v});var i=s(72003),l=s(24137),r=s(73818),o=s(42299),n=s(94542),d=s(80113),t=s(66685),c=s(17005),u=s(59017);const v=e=>{const{form:a,isDisabled:s}=e,{detail:v}=(0,c.d4)((e=>e.employeesReducer));return(0,t.useEffect)((()=>{a.setValue("name",null===v||void 0===v?void 0:v.name),a.setValue("cmnd",null===v||void 0===v?void 0:v.identified),a.setValue("phone",null===v||void 0===v?void 0:v.phone),a.setValue("email",null===v||void 0===v?void 0:v.email),a.setValue("address",v.address)}),[null===v||void 0===v?void 0:v.name,null===v||void 0===v?void 0:v.identified,null===v||void 0===v?void 0:v.phone,null===v||void 0===v?void 0:v.email,null===v||void 0===v?void 0:v.address]),(0,u.jsx)(i.Z,{w:"50%",children:(0,u.jsx)(l.b,{children:(0,u.jsxs)(r.B,{spacing:"5",divider:(0,u.jsx)(o.G,{}),children:[(0,u.jsx)(d.A,{...a,typical:"name",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"cmnd",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"phone",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"email",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(n.A,{...a,typical:"address",isDisabled:s,bg:s?"gray.100":"white"})]})})})}},90785:(e,a,s)=>{s.d(a,{A:()=>A});var i=s(72003),l=s(24137),r=s(73818),o=s(42299),n=s(17005),d=s(66685),t=s(46708),c=s(77121),u=s(71241),v=s(44875),m=s(61002),p=s(59017);const h=e=>{var a;const{isMulti:s,value:i,onChange:l,isDisabled:o}=e,{activedLanguage:h}=(0,n.d4)((e=>e.languageReducer)),{employeeRoles:g}=(0,n.d4)((e=>e.commonReducer)),{detail:b}=(0,n.d4)((e=>e.employeesReducer)),y=(0,n.wA)();return(0,d.useEffect)((()=>{Array.isArray(g)&&g.length<1&&y(u.o1.FETCH_EMPLOYEE_ROLES())}),[]),(0,d.useEffect)((()=>{l(g.filter((e=>{var a;return e.value===(null===b||void 0===b||null===(a=b.role)||void 0===a?void 0:a.type)})))}),[null===(a=b.role)||void 0===a?void 0:a.type,g]),(0,d.useEffect)((()=>{y(u.o1.FETCH_EMPLOYEE_ROLES())}),[h]),(0,p.jsx)(v.MJ,{id:"role",isInvalid:!0,children:(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsxs)(m.l,{mx:0,minW:150,children:[(0,c.t)("input.role.label"),"\xa0",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)(t.Ae,{isClearable:!0,isMulti:s||!1,isFloating:!1,isRequired:!1,name:"role",placeholder:(0,c.t)("input.role.placeholder"),value:i,onChange:l,options:g,isDisabled:o})]})})};var g=s(84670);const b=e=>{var a;const{value:s,onChange:i,isDisabled:l}=e,{activedLanguage:o}=(0,n.d4)((e=>e.languageReducer)),{employeeStatuses:h}=(0,n.d4)((e=>e.commonReducer)),{detail:g}=(0,n.d4)((e=>e.employeesReducer)),b=(0,n.wA)();return(0,d.useEffect)((()=>{Array.isArray(h)&&h.length<1&&b(u.o1.FETCH_EMPLOYEE_STATUSES())}),[]),(0,d.useEffect)((()=>{i(h.filter((e=>{var a;return e.value===(null===g||void 0===g||null===(a=g.status)||void 0===a?void 0:a.type)})))}),[null===(a=g.status)||void 0===a?void 0:a.type,h]),(0,d.useEffect)((()=>{b(u.o1.FETCH_EMPLOYEE_STATUSES())}),[o]),(0,p.jsx)(v.MJ,{id:"role",isInvalid:!0,children:(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsxs)(m.l,{mx:0,minW:150,children:[(0,c.t)("input.status.label"),"\xa0",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)(t.Ae,{isClearable:!0,isRequired:!1,isFloating:!1,name:"status",placeholder:(0,c.t)("input.status.select"),value:s,onChange:i,options:h,errorMessage:"",isDisabled:l})]})})};var y=s(71814),x=s(53767),f=s(94753),j=s(38044);const E=e=>{var a;const{isDisabled:s,uploadedFiles:i,setUploadedFiles:l}=e,{detail:o}=(0,n.d4)((e=>e.employeesReducer)),d=(0,n.wA)();return(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsx)(m.l,{mx:0,minW:150,variant:"inline",children:(0,c.t)("input.avatar.label")}),(0,p.jsxs)(y.M,{children:[(0,p.jsx)(x.e,{size:"md",name:"Christoph Winston",src:(null===o||void 0===o||null===(a=o.avatar)||void 0===a?void 0:a.url)||""}),(0,p.jsx)(f.A,{isDisabled:s,mx:1,width:"full",isMulti:!1,uploadedFiles:i,setUploadedFiles:l,uploadState:e=>{d(e?j.o1.IS_LOADING():j.o1.IS_DONE())}})]})]})},A=e=>{const{isDisabled:a,employeeDob:s,handleSetEmployeeDob:t,employeeRole:c,handleSetEmployeeRole:u,employeeStatus:v,handleSetEmployeeStatus:m,uploadedFiles:y,setUploadedFiles:x}=e,{detail:f}=(0,n.d4)((e=>e.employeesReducer));return(0,d.useEffect)((()=>{t(null===f||void 0===f?void 0:f.dob)}),[null===f||void 0===f?void 0:f.dob]),(0,p.jsx)(i.Z,{w:"50%",children:(0,p.jsx)(l.b,{children:(0,p.jsxs)(r.B,{spacing:"5",divider:(0,p.jsx)(o.G,{}),children:[(0,p.jsx)(g.A,{value:s,onChange:e=>t(e),isDisabled:a}),(0,p.jsx)(h,{isRequired:!0,value:c,onChange:e=>u(e),isDisabled:a}),(0,p.jsx)(b,{isRequired:!0,value:v,onChange:e=>m(e),isDisabled:a}),(0,p.jsx)(E,{uploadedFiles:y,setUploadedFiles:x,isDisabled:a})]})})})}},83446:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var i=s(34057),l=s(73818),r=s(79590),o=s(93389),n=s(17005),d=s(66685),t=s(38044),c=s(54990),u=s(92376),v=s(66320),m=s(12460),p=s(48032),h=s(90785),g=s(59017);const b=e=>{const a=(0,n.wA)(),s=(0,c.K)(u.mN),b=(0,r.zy)(),[y,x]=(0,d.useState)(),[f,j]=(0,d.useState)(new Date),[E,A]=(0,d.useState)(),[S,C]=(0,d.useState)([]),{employeeId:_}=(0,r.g)(),{isRequesting:w}=(0,n.d4)((e=>e.employeesReducer));(0,d.useEffect)((()=>{a(t.o1.GET_DETAIL_ASYNC(_))}),[]);return(0,g.jsxs)("form",{onSubmit:s.handleSubmit((e=>{var s,i,l;(f&&(e.dob=f),Array.isArray(y)&&y.length>0)&&(e.role=null===(s=y[0])||void 0===s?void 0:s.value);Array.isArray(E)&&E.length>0&&(e.status=null===(i=E[0])||void 0===i?void 0:i.value);Array.isArray(S)&&S.length>0&&(e.avatar=null===(l=S[0])||void 0===l?void 0:l.id);const r={...e,id:_};C([]),a(t.o1.UPDATE_ASYNC(r))})),children:[(0,g.jsxs)(i.z,{pb:5,children:[(0,g.jsx)(v.p,{typical:"list",permission:"employee.view",as:o.N_,to:(0,m.Gm)("/dashboard/organisation",b)}),(0,g.jsx)(v.p,{typical:"view",permission:"employee.view",as:o.N_,to:(0,m.Gm)(`/dashboard/organisation/${_}`,b)}),(0,g.jsx)(v.p,{typical:"save",permission:"employee.update",type:"submit",isDisabled:w})]}),(0,g.jsxs)(l.B,{direction:{base:"column",xl:"row"},justify:"space-between",children:[(0,g.jsx)(p.A,{form:s}),(0,g.jsx)(h.A,{employeeDob:f,handleSetEmployeeDob:j,employeeRole:y,handleSetEmployeeRole:x,employeeStatus:E,handleSetEmployeeStatus:A,uploadedFiles:S,setUploadedFiles:C})]})]})}},53767:(e,a,s)=>{s.d(a,{e:()=>x});var i=s(87930),[l,r]=(0,i.q)({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"}),o=s(53546),n=s(59017);function d(e){var a;const s=e.split(" "),i=null!=(a=s[0])?a:"",l=s.length>1?s[s.length-1]:"";return i&&l?`${i.charAt(0)}${l.charAt(0)}`:i.charAt(0)}function t(e){const{name:a,getInitials:s,...i}=e,l=r();return(0,n.jsx)(o.B.div,{role:"img","aria-label":a,...i,__css:l.label,children:a?null==s?void 0:s(a):null})}t.displayName="AvatarName";var c=e=>(0,n.jsxs)(o.B.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[(0,n.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,n.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),u=s(37313),v=s(66685);function m(e){const{src:a,srcSet:s,onError:i,onLoad:l,getInitials:r,name:d,borderRadius:m,loading:p,iconLabel:h,icon:g=(0,n.jsx)(c,{}),ignoreFallback:b,referrerPolicy:y,crossOrigin:x}=e,f=(0,u.l)({src:a,onError:i,crossOrigin:x,ignoreFallback:b});return!a||!("loaded"===f)?d?(0,n.jsx)(t,{className:"chakra-avatar__initials",getInitials:r,name:d}):(0,v.cloneElement)(g,{role:"img","aria-label":h}):(0,n.jsx)(o.B.img,{src:a,srcSet:s,alt:d,onLoad:l,referrerPolicy:y,crossOrigin:null!=x?x:void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:m}})}m.displayName="AvatarImage";var p=s(21376),h=s(91275),g=s(26588),b=s(15848),y={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},x=(0,p.R)(((e,a)=>{const s=(0,h.o5)("Avatar",e),[i,r]=(0,v.useState)(!1),{src:t,srcSet:u,name:p,showBorder:x,borderRadius:f="full",onError:j,onLoad:E,getInitials:A=d,icon:S=(0,n.jsx)(c,{}),iconLabel:C=" avatar",loading:_,children:w,borderColor:R,ignoreFallback:D,crossOrigin:N,referrerPolicy:F,...L}=(0,g.MN)(e),k={borderRadius:f,borderWidth:x?"2px":void 0,...y,...s.container};return R&&(k.borderColor=R),(0,n.jsx)(o.B.span,{ref:a,...L,className:(0,b.cx)("chakra-avatar",e.className),"data-loaded":(0,b.sE)(i),__css:k,children:(0,n.jsxs)(l,{value:s,children:[(0,n.jsx)(m,{src:t,srcSet:u,loading:_,onLoad:(0,b.Hj)(E,(()=>{r(!0)})),onError:j,getInitials:A,name:p,borderRadius:f,icon:S,iconLabel:C,ignoreFallback:D,crossOrigin:N,referrerPolicy:F}),w]})})}));x.displayName="Avatar"},24137:(e,a,s)=>{s.d(a,{b:()=>d});var i=s(84025),l=s(15848),r=s(21376),o=s(53546),n=s(59017),d=(0,r.R)((function(e,a){const{className:s,...r}=e,d=(0,i.Q)();return(0,n.jsx)(o.B.div,{ref:a,className:(0,l.cx)("chakra-card__body",s),__css:d.body,...r})}))},84025:(e,a,s)=>{s.d(a,{Q:()=>r,s:()=>l});var i=s(72632),[l,r]=(0,i.Wh)("Card")},72003:(e,a,s)=>{s.d(a,{Z:()=>c});var i=s(84025),l=s(15848),r=s(21376),o=s(26588),n=s(91275),d=s(53546),t=s(59017),c=(0,r.R)((function(e,a){const{className:s,children:r,direction:c="column",justify:u,align:v,...m}=(0,o.MN)(e),p=(0,n.o5)("Card",e);return(0,t.jsx)(d.B.div,{ref:a,className:(0,l.cx)("chakra-card",s),__css:{display:"flex",flexDirection:c,justifyContent:u,alignItems:v,position:"relative",minWidth:0,wordWrap:"break-word",...p.container},...m,children:(0,t.jsx)(i.s,{value:p,children:r})})}))},37313:(e,a,s)=>{s.d(a,{l:()=>r,m:()=>o});var i=s(68389),l=s(66685);function r(e){const{loading:a,src:s,srcSet:r,onLoad:o,onError:n,crossOrigin:d,sizes:t,ignoreFallback:c}=e,[u,v]=(0,l.useState)("pending");(0,l.useEffect)((()=>{v(s?"loading":"pending")}),[s]);const m=(0,l.useRef)(),p=(0,l.useCallback)((()=>{if(!s)return;h();const e=new Image;e.src=s,d&&(e.crossOrigin=d),r&&(e.srcset=r),t&&(e.sizes=t),a&&(e.loading=a),e.onload=e=>{h(),v("loaded"),null==o||o(e)},e.onerror=e=>{h(),v("failed"),null==n||n(e)},m.current=e}),[s,d,r,t,o,n,a]),h=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,i.U)((()=>{if(!c)return"loading"===u&&p(),()=>{h()}}),[u,p,c]),c?"loaded":u}var o=(e,a)=>"loaded"!==e&&"beforeLoadOrError"===a||"failed"===e&&"onError"===a}}]);
//# sourceMappingURL=3446.29b7297d.chunk.js.map