"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[5033],{68468:(e,i,l)=>{l.d(i,{A:()=>y});var a=l(99710),t=l(13716),o=l(74387),n=l(34057),r=l(92662),s=l(87930),d=l(21376),c=l(91275),u=l(26588),v=l(53546),p=l(59017),[g,m]=(0,s.q)({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),f=(0,d.R)(((e,i)=>{const l=(0,c.o5)("Tag",e),a=(0,u.MN)(e),t={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...l.container};return(0,p.jsx)(g,{value:l,children:(0,p.jsx)(v.B.span,{ref:i,...a,__css:t})})}));f.displayName="Tag",(0,d.R)(((e,i)=>{const l=m();return(0,p.jsx)(v.B.span,{ref:i,noOfLines:1,...e,__css:l.label})})).displayName="TagLabel",(0,d.R)(((e,i)=>(0,p.jsx)(r.I,{ref:i,verticalAlign:"top",marginEnd:"0.5rem",...e}))).displayName="TagLeftIcon",(0,d.R)(((e,i)=>(0,p.jsx)(r.I,{ref:i,verticalAlign:"top",marginStart:"0.5rem",...e}))).displayName="TagRightIcon";var h=e=>(0,p.jsx)(r.I,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:(0,p.jsx)("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});h.displayName="TagCloseIcon",(0,d.R)(((e,i)=>{const{isDisabled:l,children:a,...t}=e,o={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...m().closeButton};return(0,p.jsx)(v.B.button,{ref:i,"aria-label":"close",...t,type:"button",disabled:l,__css:o,children:a||(0,p.jsx)(h,{})})})).displayName="TagCloseButton";var x=l(77121);const y=e=>{const{value:i,onChange:l}=e;return(0,p.jsx)(a.r,{columns:{sm:2,md:4,lg:6},spacing:10,children:null===i||void 0===i?void 0:i.map(((e,a)=>{var r;return(0,p.jsxs)(t.az,{w:160,position:"relative",children:[(0,p.jsx)(o._,{boxSize:"160px",objectFit:"cover",src:e.url,alt:e.alt}),(0,p.jsx)(n.z,{spacing:"1",position:"absolute",bottom:"1",right:"1",children:null===(r=[{name:(0,x.t)("button.delete"),color:"red"}])||void 0===r?void 0:r.map((a=>(0,p.jsx)(f,{bg:`${a.color}.500`,color:"white",fontWeight:"semibold",onClick:()=>{return a=e.id,void l(i.filter((e=>e.id!==a)));var a},children:a.name},a.name)))})]},a)}))})}},75033:(e,i,l)=>{l.r(i),l.d(i,{default:()=>I});var a=l(905),t=l(66685),o=l(17005),n=l(34057),r=l(66320),s=l(12460),d=l(79590),c=l(93389),u=l(72003),v=l(24137),p=l(73818),g=l(42299),m=l(2483),f=l(63812),h=l(92376),x=l(54990),y=l(80113),j=l(2772),b=l(48116),N=l(31296),S=l(47114),C=l(39590),_=l(58938),A=l(94753),T=l(68468),k=l(59017);const w=e=>{var i,l,n,r,s;const d=(0,o.wA)(),c=(0,x.K)(h.mN),[w,I]=(0,t.useState)([]),[R,B]=(0,t.useState)([]),[E,G]=(0,t.useState)(),[L,O]=(0,t.useState)(),[z,F]=(0,t.useState)(),[D,W]=(0,t.useState)(),[q,M]=(0,t.useState)([new Date,new Date]),{submitRef:V}=e,{detail:P}=(0,o.d4)((e=>e.productReducer)),{activedLanguage:U}=(0,o.d4)((e=>e.languageReducer));(0,t.useEffect)((()=>{var e,i,l,a,t,o,n,r,s;c.setValue("name",null===P||void 0===P?void 0:P.name),c.setValue("description",null===P||void 0===P?void 0:P.description),c.setValue("price",null===P||void 0===P?void 0:P.price),c.setValue("discount",null===P||void 0===P?void 0:P.discount),c.setValue("quantity",null===P||void 0===P?void 0:P.quantity),G({value:null===P||void 0===P||null===(e=P.productType)||void 0===e?void 0:e.type,label:(0,_.G)(null===P||void 0===P||null===(i=P.productType)||void 0===i?void 0:i.typeName)[U]}),O({value:null===P||void 0===P||null===(l=P.productStatus)||void 0===l?void 0:l.type,label:(0,_.G)(null===P||void 0===P||null===(a=P.productStatus)||void 0===a?void 0:a.typeName)[U]}),F({value:null===P||void 0===P||null===(t=P.productCategory)||void 0===t?void 0:t.type,label:(0,_.G)(null===P||void 0===P||null===(o=P.productCategory)||void 0===o?void 0:o.typeName)[U]}),W(null===P||void 0===P||null===(n=P.productTags)||void 0===n?void 0:n.map((e=>({value:e.type,label:(0,_.G)(e.typeName)[U]})))),M([P.startTime,P.endTime]),G({value:null===P||void 0===P||null===(r=P.productType)||void 0===r?void 0:r.type,label:(0,_.G)(null===P||void 0===P||null===(s=P.productType)||void 0===s?void 0:s.typeName)[U]}),B(P.productImages)}),[P.name,P.description,P.price,P.discount,P.quantity,null===(i=P.productType)||void 0===i?void 0:i.id,null===(l=P.productStatus)||void 0===l?void 0:l.id,null===(n=P.productTags)||void 0===n?void 0:n.length,null===(r=P.productCategory)||void 0===r?void 0:r.id,null===(s=P.productImages)||void 0===s?void 0:s.length,P.startTime,P.endTime]);return(0,k.jsx)("form",{onSubmit:c.handleSubmit((e=>{var i;const l={...e,id:P.id,slug:P.slug,type:null===E||void 0===E?void 0:E.value,status:null===L||void 0===L?void 0:L.value,category:null===z||void 0===z?void 0:z.value,tags:null===D||void 0===D?void 0:D.map((e=>e.value)),removeImages:P.productImages.filter((e=>void 0===R.find((i=>i.id===e.id)))).map((e=>e.id)),image:null===(i=w[0])||void 0===i?void 0:i.id,selectedDates:q};d(a.o1.UPDATE_ASYNC(l)),I([])})),children:(0,k.jsx)(u.Z,{w:"100%",children:(0,k.jsx)(v.b,{children:(0,k.jsxs)(p.B,{spacing:"5",divider:(0,k.jsx)(g.G,{}),children:[(0,k.jsx)(y.A,{...c,typical:"product-name"}),(0,k.jsx)(y.A,{...c,typical:"product-description"}),(0,k.jsx)(y.A,{...c,typical:"product-price"}),(0,k.jsx)(y.A,{...c,typical:"product-discount"}),(0,k.jsx)(y.A,{...c,typical:"product-quantity"}),(0,k.jsx)(j.A,{value:E,onChange:G}),(0,k.jsx)(b.A,{value:q,onChange:M}),(0,k.jsx)(S.A,{value:L,onChange:O}),(0,k.jsx)(N.A,{value:z,onChange:F}),(0,k.jsx)(C.A,{value:D,onChange:W}),(0,k.jsx)(T.A,{value:R,onChange:B}),(0,k.jsx)(A.A,{mx:1,width:"full",isMulti:!1,uploadedFiles:w,setUploadedFiles:I}),(0,k.jsx)(m.s6,{children:(0,k.jsx)(f.$,{type:"submit",ref:V})})]})})})})},I=e=>{const i=(0,o.wA)(),l=(0,d.zy)(),u=(0,t.useRef)(null),{productSlug:v}=(0,d.g)();return(0,t.useEffect)((()=>{i(a.o1.GET_DETAIL_BY_SLUG_ASYNC(v))}),[]),(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)(n.z,{pb:5,children:[(0,k.jsx)(r.p,{typical:"list",permission:"product.view",as:c.N_,to:(0,s.Gm)("/dashboard/business",l)}),(0,k.jsx)(r.p,{typical:"view",permission:"product.view",as:c.N_,to:(0,s.Gm)(`/dashboard/business/${v}`,l)}),(0,k.jsx)(r.p,{typical:"save",permission:"product.update",onClick:e=>{u.current.click()}})]}),(0,k.jsx)(w,{submitRef:u})]})}},24137:(e,i,l)=>{l.d(i,{b:()=>s});var a=l(84025),t=l(15848),o=l(21376),n=l(53546),r=l(59017),s=(0,o.R)((function(e,i){const{className:l,...o}=e,s=(0,a.Q)();return(0,r.jsx)(n.B.div,{ref:i,className:(0,t.cx)("chakra-card__body",l),__css:s.body,...o})}))},84025:(e,i,l)=>{l.d(i,{Q:()=>o,s:()=>t});var a=l(72632),[t,o]=(0,a.Wh)("Card")},72003:(e,i,l)=>{l.d(i,{Z:()=>c});var a=l(84025),t=l(15848),o=l(21376),n=l(26588),r=l(91275),s=l(53546),d=l(59017),c=(0,o.R)((function(e,i){const{className:l,children:o,direction:c="column",justify:u,align:v,...p}=(0,n.MN)(e),g=(0,r.o5)("Card",e);return(0,d.jsx)(s.B.div,{ref:i,className:(0,t.cx)("chakra-card",l),__css:{display:"flex",flexDirection:c,justifyContent:u,alignItems:v,position:"relative",minWidth:0,wordWrap:"break-word",...g.container},...p,children:(0,d.jsx)(a.s,{value:g,children:o})})}))},74387:(e,i,l)=>{l.d(i,{_:()=>d});var a=l(21376),t=l(59017),o=(0,a.R)((function(e,i){const{htmlWidth:l,htmlHeight:a,alt:o,...n}=e;return(0,t.jsx)("img",{width:l,height:a,ref:i,alt:o,...n})}));o.displayName="NativeImage";var n=l(37313),r=l(53546);function s(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const l=Object.assign({},e);for(const a of i)a in l&&delete l[a];return l}var d=(0,a.R)((function(e,i){const{fallbackSrc:l,fallback:a,src:d,srcSet:c,align:u,fit:v,loading:p,ignoreFallback:g,crossOrigin:m,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:h,...x}=e,y=null!=p||g||!(void 0!==l||void 0!==a),j=(0,n.l)({...e,crossOrigin:m,ignoreFallback:y}),b=(0,n.m)(j,f),N={ref:i,objectFit:v,objectPosition:u,...y?x:s(x,["onError","onLoad"])};return b?a||(0,t.jsx)(r.B.img,{as:o,className:"chakra-image__placeholder",src:l,...N}):(0,t.jsx)(r.B.img,{as:o,src:d,srcSet:c,crossOrigin:m,loading:p,referrerPolicy:h,className:"chakra-image",...N})}));d.displayName="Image"},37313:(e,i,l)=>{l.d(i,{l:()=>o,m:()=>n});var a=l(68389),t=l(66685);function o(e){const{loading:i,src:l,srcSet:o,onLoad:n,onError:r,crossOrigin:s,sizes:d,ignoreFallback:c}=e,[u,v]=(0,t.useState)("pending");(0,t.useEffect)((()=>{v(l?"loading":"pending")}),[l]);const p=(0,t.useRef)(),g=(0,t.useCallback)((()=>{if(!l)return;m();const e=new Image;e.src=l,s&&(e.crossOrigin=s),o&&(e.srcset=o),d&&(e.sizes=d),i&&(e.loading=i),e.onload=e=>{m(),v("loaded"),null==n||n(e)},e.onerror=e=>{m(),v("failed"),null==r||r(e)},p.current=e}),[l,s,o,d,n,r,i]),m=()=>{p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)};return(0,a.U)((()=>{if(!c)return"loading"===u&&g(),()=>{m()}}),[u,g,c]),c?"loaded":u}var n=(e,i)=>"loaded"!==e&&"beforeLoadOrError"===i||"failed"===e&&"onError"===i}}]);
//# sourceMappingURL=5033.a0f0975b.chunk.js.map