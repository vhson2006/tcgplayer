"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[6509],{87432:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(19645),c=a(17005),n=a(59017);const t=e=>{const{permission:s,...a}=e,{permission:t}=(0,c.d4)((e=>e.authenticationReducer));if(s){const e=s.split(".");return t&&t[e[0]]&&t[e[0]].includes(e[1])?(0,n.jsx)(r.K,{...a}):(0,n.jsx)(n.Fragment,{})}return(0,n.jsx)(r.K,{...a})}},417:(e,s,a)=>{a.d(s,{A:()=>x});var r=a(44875),c=a(71814),n=a(75404),t=a(92662),l=a(63871),o=a(61002),i=a(73818),d=a(95890),u=a(91530),m=a(77121),p=a(70727),h=a(59017);const x=e=>{const{typical:s,errors:a,register:x,getValues:g,handleSubmit:j,setValue:f,trigger:v,...y}=e;return(0,h.jsxs)(r.MJ,{variant:"floating",id:u.p[s].name,isInvalid:!0,children:[(0,h.jsxs)(c.M,{children:[u.p[s].icon?(0,h.jsx)(n.W,{pointerEvents:"none",children:(0,h.jsx)(t.I,{as:u.p[s].icon,color:"fg.muted",boxSize:"4"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(l.p,{isInvalid:a.hasOwnProperty(u.p[s].name),errorBorderColor:"red.300",type:"password"!==u.p[s].name?"text":"password",...x(u.p[s].name,u.p[s].rules),placeholder:"",...y}),u.p[s].rules&&u.p[s].rules.hasOwnProperty("required")&&u.p[s].rules.required?(0,h.jsxs)(o.l,{children:[(0,m.t)(u.p[s].placeholder),"\xa0",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}):(0,h.jsx)(o.l,{children:(0,m.t)(u.p[s].placeholder)}),!a.hasOwnProperty(u.p[s].name)&&""!=g(u.p[s].name)&&(0,h.jsx)(n.t,{children:(0,h.jsx)(t.I,{as:p.GHp,color:"green.500",boxSize:"5"})})]}),a.hasOwnProperty(u.p[s].name)&&(0,h.jsx)(i.B,{pt:"1",children:(0,h.jsx)(d.E,{color:"tomato",fontSize:"10px",children:(0,h.jsx)("i",{children:(0,m.t)(`error.${a[u.p[s].name].type}`)})})})]})}},36866:(e,s,a)=>{a.d(s,{A:()=>m});var r=a(63812),c=a(75783),n=a(19645),t=a(12113),l=a(66685),o=a(70727),i=a(79590),d=a(12460),u=a(59017);const m=e=>{const{total:s=0}=e,[a,m]=(0,l.useState)(0),{params:p}=(0,d.lT)(),h=(0,i.Zp)(),x=(0,i.zy)(),{page:g=t.XB,size:j=t.md}=p;return(0,u.jsxs)(c.e,{spacing:"3",justifyContent:"space-center",width:{base:"full",md:"auto"},children:[(0,u.jsx)(n.K,{variant:"secondary","aria-label":"Before pagination",onClick:()=>{a>0&&m(a-1)},children:(0,u.jsx)(o.oe,{})}),Array.from(Array(Math.ceil(s/j)).keys()).splice(5*a,5).map((e=>(0,u.jsx)(r.$,{variant:e+1===parseInt(g)?"primary":"secondary",onClick:()=>{e+1>=5*(a+1)&&a+1<Math.ceil(Math.ceil(s/j)/5)&&m(a+1),(e=>{h(`${x.pathname}?${(0,d.VZ)({...p,page:e,size:j})}`)})(e+1)},children:e+1},e))),(0,u.jsx)(n.K,{variant:"secondary","aria-label":"Next pagination",onClick:()=>{a+1<Math.ceil(Math.ceil(s/j)/5)&&m(a+1)},children:(0,u.jsx)(o.oLC,{})})]})}},61726:(e,s,a)=>{a.d(s,{A:()=>k});var r=a(38755),c=a(89574),n=a(86217),t=a(66685),l=a(75100),o=a(38757),i=a(87088),d=a(88171),u=a(56697),m=a(53546),p=a(56166),h=a(21561),x=a(47685),g=a(25787),j=a(63429),f=a(59017);const v=function(e){let{data:s,columns:a}=e;const[r,c]=t.useState([]),v=(0,j.N4)({columns:a,data:s,getCoreRowModel:(0,n.HT)(),onSortingChange:c,getSortedRowModel:(0,n.h5)(),state:{sorting:r}});return(0,f.jsx)(l.K,{className:"custom-table",children:(0,f.jsxs)(o.X,{children:[(0,f.jsx)(i.d,{children:v.getHeaderGroups().map((e=>(0,f.jsx)(d.Tr,{children:e.headers.map((e=>{const s=e.column.columnDef.meta;return(0,f.jsxs)(u.Th,{onClick:e.column.getToggleSortingHandler(),isNumeric:null===s||void 0===s?void 0:s.isNumeric,className:"selected"===e.id?"checkbox-select":"",children:[(0,j.Kv)(e.column.columnDef.header,e.getContext()),(0,f.jsx)(m.B.span,{pl:"4",children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,f.jsx)(x.k,{"aria-label":"sorted descending"}):(0,f.jsx)(g.D,{"aria-label":"sorted ascending"}):null})]},e.id)}))},e.id)))}),(0,f.jsx)(p.N,{children:v.getRowModel().rows.map((e=>(0,f.jsx)(d.Tr,{children:e.getVisibleCells().map((e=>{const s=e.column.columnDef.meta;return(0,f.jsx)(h.Td,{isNumeric:null===s||void 0===s?void 0:s.isNumeric,children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})]})})};var y=a(83841),b=a(22700),C=a(39475),A=a(13716),w=a(34057),S=a(24786),N=a(54757),E=a(26604),M=a(60019),T=a(17005);const _=e=>{const[s,a]=t.useState([]),{data:r,columns:l,permissionGroup:o,onSelect:i}=e,{permission:d}=(0,T.d4)((e=>e.authenticationReducer)),u=(0,j.N4)({columns:l,data:r,getCoreRowModel:(0,n.HT)(),onSortingChange:a,getSortedRowModel:(0,n.h5)(),state:{sorting:s}}).getRowModel().rows;return(0,f.jsx)(y.n,{allowMultiple:!0,children:r.map(((e,s)=>{const a=u.find((s=>s.original===e)),r=a.getVisibleCells().find((e=>e.column.id==l.filter((e=>"selected"!==e.accessorKey))[0].accessorKey));return(0,f.jsxs)(b.A,{children:[(0,f.jsx)("h2",{children:(0,f.jsxs)(C.J,{children:["function"===typeof i&&d&&o&&d[o]&&Array.isArray(d[o])&&d[o].includes("update")?(0,f.jsx)(A.az,{as:"span",flex:"1",textAlign:"left",onClick:e=>e.stopPropagation(),children:(0,f.jsxs)(w.z,{spacing:"3",children:[(0,f.jsx)(c.S,{onChange:a=>{i({id:e.id?e.id:s.toString(),value:a.target.checked})}}),(0,j.Kv)(r.column.columnDef.cell,r.getContext())]})}):(0,j.Kv)(r.column.columnDef.cell,r.getContext()),(0,f.jsx)(S.Q,{})]})}),(0,f.jsx)(N.v,{pb:4,children:l.filter((e=>"selected"!==e.accessorKey)).map((e=>{const r=a.getVisibleCells().find((s=>s.column.id==e.accessorKey));return(0,f.jsxs)(t.Fragment,{children:[(0,f.jsxs)(E.s,{my:"5",children:[(0,f.jsx)(A.az,{flex:"1",children:e.header}),(0,f.jsx)(A.az,{flex:"1",children:(0,j.Kv)(r.column.columnDef.cell,r.getContext())})]}),(0,f.jsx)(M.c,{})]},`${s}_${e.accessorKey}`)}))})]},s)}))})},D=(0,n.FB)(),k=e=>{const s=(0,r.A)({base:!0,md:!1}),{data:a,columns:n,permissionGroup:t,onSelect:l}=e,{permission:o}=(0,T.d4)((e=>e.authenticationReducer));return s?(0,f.jsx)(_,{...e}):"function"===typeof l&&o&&t&&o[t]&&Array.isArray(o[t])&&o[t].includes("update")?(0,f.jsx)(v,{data:a,columns:[D.accessor("selected",{cell:e=>(0,f.jsx)(c.S,{onChange:s=>{l({id:e.row.original.id?e.row.original.id:e.row.id,value:s.target.checked})}}),header:""}),...n]}):(0,f.jsx)(v,{data:a,columns:n})}},96509:(e,s,a)=>{a.r(s),a.d(s,{AccessCodePage:()=>O,default:()=>B});var r=a(73818),c=a(13716),n=a(92376),t=a(66685),l=a(12460),o=a(54990),i=a(79590),d=a(417),u=a(17005),m=a(53678),p=a(95238),h=a(66320),x=a(59017);const g=e=>{const{params:s}=(0,l.lT)(),a=(0,i.Zp)(),c=(0,i.zy)(),g=(0,u.wA)(),j={search:null,...s},f=(0,o.K)(n.mN);(0,t.useEffect)((()=>{f.setValue("search",j.search)}),[]);return(0,x.jsx)("form",{onSubmit:null===f||void 0===f?void 0:f.handleSubmit((e=>{a(`${c.pathname}?${(0,l.VZ)({...s,...e})}`)})),children:(0,x.jsxs)(r.B,{spacing:5,direction:{base:"column",md:"row"},children:[(0,x.jsx)(r.B,{maxW:"sm",children:(0,x.jsx)(d.A,{...f,typical:"search"})}),(0,x.jsx)(h.p,{typical:"add",permission:"accesscode.create",onClick:()=>{g(m.o1.OPEN_DRAWER({type:p.ADD_ACCESS_CODE_DRAWER,size:"xl",data:{}}))}}),(0,x.jsx)(h.p,{type:"submit",permission:"accesscode.view",typical:"search"})]})})};var j=a(56860),f=a(61726),v=a(77121),y=a(19898),b=a(66710),C=a(95890),A=a(64982),w=a(34057),S=a(86217),N=a(12113),E=a(87432),M=a(65863),T=a(51585),_=a(93389),D=a(58938);const k=(0,S.FB)(),z=e=>{const{t:s,location:a,activedLanguage:r,deleteAccessCodeHandler:c}=e;return[k.accessor("code",{cell:e=>(0,x.jsx)(C.E,{children:e.getValue()}),header:s("table.access-code.code")}),k.accessor("type",{cell:e=>{var s;return(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:N.Tj[Math.floor(Math.random()*N.Tj.length)],children:(0,D.G)(null===(s=e.getValue())||void 0===s?void 0:s.typeName)[r]})},header:s("table.access-code.type")}),k.accessor("status",{cell:e=>{var s;return(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:N.Tj[Math.floor(Math.random()*N.Tj.length)],children:(0,D.G)(null===(s=e.getValue())||void 0===s?void 0:s.typeName)[r]})},header:s("table.access-code.status")}),k.accessor("id",{cell:e=>(0,x.jsxs)(w.z,{spacing:"1",children:[(0,x.jsx)(E.A,{icon:(0,x.jsx)(T.bZk,{}),variant:"tertiary",permission:"accesscode.view","aria-label":"View access code",as:_.N_,to:(0,l.Gm)(`/dashboard/setting/access-code/${e.getValue()}`,a)}),(0,x.jsx)(E.A,{icon:(0,x.jsx)(M.WXf,{}),variant:"tertiary",permission:"accesscode.update","aria-label":"Edit access code",as:_.N_,to:(0,l.Gm)(`/dashboard/setting/access-code/${e.getValue()}/edit`,a)}),(0,x.jsx)(E.A,{icon:(0,x.jsx)(M.IXo,{}),variant:"tertiary",permission:"accesscode.delete","aria-label":"Delete access code",onClick:()=>c(e.row.original.id)})]}),header:s("table.action")})]},R=e=>{const s=(0,i.zy)(),a=(0,u.wA)(),{activedLanguage:r}=(0,u.d4)((e=>e.languageReducer)),{list:c}=(0,u.d4)((e=>e.accessCodeReducer)),{params:n}=(0,l.lT)(),o=(0,t.useCallback)((e=>{a(y.o1.OPEN_MODAL({type:b.DELETE_CONFIRMATION_MODAL,data:{next:()=>{a(j.o1.DELETE_ASYNC({id:e,params:n})),a(y.o1.CLOSE_MODAL(b.DELETE_CONFIRMATION_MODAL))}}}))}),[]);return(0,t.useMemo)((()=>(0,x.jsx)(f.A,{data:c||[],columns:z({t:v.t,deleteAccessCodeHandler:o,location:s,activedLanguage:r})})),[c])};var K=a(36866);const O=()=>{const{total:e}=(0,u.d4)((e=>e.accessCodeReducer)),s=(0,u.wA)(),{params:a,fullPath:n}=(0,l.lT)();return(0,t.useEffect)((()=>{s(j.o1.GET_LIST_ASYNC(a))}),[]),(0,t.useEffect)((()=>{s(j.o1.GET_LIST_ASYNC(a))}),[n]),(0,x.jsx)(r.B,{spacing:{base:"8",lg:"6"},children:(0,x.jsx)(c.az,{bg:"bg.surface",boxShadow:{base:"none",md:"sm"},borderRadius:{base:"none",md:"lg"},children:(0,x.jsxs)(r.B,{spacing:"5",children:[(0,x.jsx)(c.az,{px:{base:"4",md:"6"},pt:"5",children:(0,x.jsx)(g,{})}),(0,x.jsx)(c.az,{px:{base:"4",md:"6"},overflowX:"scroll",children:(0,x.jsx)(R,{})}),(0,x.jsx)(c.az,{px:{base:"4",md:"6"},pb:"5",children:(0,x.jsx)(r.B,{alignItems:"center",children:(0,x.jsx)(K.A,{total:e})})})]})})})},B=O},64982:(e,s,a)=>{a.d(s,{E:()=>i});var r=a(21376),c=a(91275),n=a(26588),t=a(53546),l=a(15848),o=a(59017),i=(0,r.R)((function(e,s){const a=(0,c.Vl)("Badge",e),{className:r,...i}=(0,n.MN)(e);return(0,o.jsx)(t.B.span,{ref:s,className:(0,l.cx)("chakra-badge",e.className),...i,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...a}})}));i.displayName="Badge"}}]);
//# sourceMappingURL=6509.b54f17cb.chunk.js.map