"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[8589],{48032:(e,a,s)=>{s.d(a,{A:()=>m});var i=s(72003),l=s(24137),r=s(73818),n=s(42299),o=s(94542),d=s(80113),t=s(66685),c=s(17005),u=s(59017);const m=e=>{const{form:a,isDisabled:s}=e,{detail:m}=(0,c.d4)((e=>e.employeesReducer));return(0,t.useEffect)((()=>{a.setValue("name",null===m||void 0===m?void 0:m.name),a.setValue("cmnd",null===m||void 0===m?void 0:m.identified),a.setValue("phone",null===m||void 0===m?void 0:m.phone),a.setValue("email",null===m||void 0===m?void 0:m.email),a.setValue("address",m.address)}),[null===m||void 0===m?void 0:m.name,null===m||void 0===m?void 0:m.identified,null===m||void 0===m?void 0:m.phone,null===m||void 0===m?void 0:m.email,null===m||void 0===m?void 0:m.address]),(0,u.jsx)(i.Z,{w:"50%",children:(0,u.jsx)(l.b,{children:(0,u.jsxs)(r.B,{spacing:"5",divider:(0,u.jsx)(n.G,{}),children:[(0,u.jsx)(d.A,{...a,typical:"name",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"cmnd",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"phone",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(d.A,{...a,typical:"email",isDisabled:s,bg:s?"gray.100":"white"}),(0,u.jsx)(o.A,{...a,typical:"address",isDisabled:s,bg:s?"gray.100":"white"})]})})})}},90785:(e,a,s)=>{s.d(a,{A:()=>A});var i=s(72003),l=s(24137),r=s(73818),n=s(42299),o=s(17005),d=s(66685),t=s(46708),c=s(77121),u=s(71241),m=s(44875),v=s(61002),p=s(59017);const h=e=>{var a;const{isMulti:s,value:i,onChange:l,isDisabled:n}=e,{activedLanguage:h}=(0,o.d4)((e=>e.languageReducer)),{employeeRoles:g}=(0,o.d4)((e=>e.commonReducer)),{detail:b}=(0,o.d4)((e=>e.employeesReducer)),x=(0,o.wA)();return(0,d.useEffect)((()=>{Array.isArray(g)&&g.length<1&&x(u.o1.FETCH_EMPLOYEE_ROLES())}),[]),(0,d.useEffect)((()=>{l(g.filter((e=>{var a;return e.value===(null===b||void 0===b||null===(a=b.role)||void 0===a?void 0:a.type)})))}),[null===(a=b.role)||void 0===a?void 0:a.type,g]),(0,d.useEffect)((()=>{x(u.o1.FETCH_EMPLOYEE_ROLES())}),[h]),(0,p.jsx)(m.MJ,{id:"role",isInvalid:!0,children:(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsxs)(v.l,{mx:0,minW:150,children:[(0,c.t)("input.role.label"),"\xa0",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)(t.Ae,{isClearable:!0,isMulti:s||!1,isFloating:!1,isRequired:!1,name:"role",placeholder:(0,c.t)("input.role.placeholder"),value:i,onChange:l,options:g,isDisabled:n})]})})};var g=s(84670);const b=e=>{var a;const{value:s,onChange:i,isDisabled:l}=e,{activedLanguage:n}=(0,o.d4)((e=>e.languageReducer)),{employeeStatuses:h}=(0,o.d4)((e=>e.commonReducer)),{detail:g}=(0,o.d4)((e=>e.employeesReducer)),b=(0,o.wA)();return(0,d.useEffect)((()=>{Array.isArray(h)&&h.length<1&&b(u.o1.FETCH_EMPLOYEE_STATUSES())}),[]),(0,d.useEffect)((()=>{i(h.filter((e=>{var a;return e.value===(null===g||void 0===g||null===(a=g.status)||void 0===a?void 0:a.type)})))}),[null===(a=g.status)||void 0===a?void 0:a.type,h]),(0,d.useEffect)((()=>{b(u.o1.FETCH_EMPLOYEE_STATUSES())}),[n]),(0,p.jsx)(m.MJ,{id:"role",isInvalid:!0,children:(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsxs)(v.l,{mx:0,minW:150,children:[(0,c.t)("input.status.label"),"\xa0",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)(t.Ae,{isClearable:!0,isRequired:!1,isFloating:!1,name:"status",placeholder:(0,c.t)("input.status.select"),value:s,onChange:i,options:h,errorMessage:"",isDisabled:l})]})})};var x=s(71814),f=s(53767),y=s(94753),j=s(38044);const E=e=>{var a;const{isDisabled:s,uploadedFiles:i,setUploadedFiles:l}=e,{detail:n}=(0,o.d4)((e=>e.employeesReducer)),d=(0,o.wA)();return(0,p.jsxs)(r.B,{direction:{base:"column",md:"row"},spacing:{base:"1.5",md:"8"},justify:"space-between",children:[(0,p.jsx)(v.l,{mx:0,minW:150,variant:"inline",children:(0,c.t)("input.avatar.label")}),(0,p.jsxs)(x.M,{children:[(0,p.jsx)(f.e,{size:"md",name:"Christoph Winston",src:(null===n||void 0===n||null===(a=n.avatar)||void 0===a?void 0:a.url)||""}),(0,p.jsx)(y.A,{isDisabled:s,mx:1,width:"full",isMulti:!1,uploadedFiles:i,setUploadedFiles:l,uploadState:e=>{d(e?j.o1.IS_LOADING():j.o1.IS_DONE())}})]})]})},A=e=>{const{isDisabled:a,employeeDob:s,handleSetEmployeeDob:t,employeeRole:c,handleSetEmployeeRole:u,employeeStatus:m,handleSetEmployeeStatus:v,uploadedFiles:x,setUploadedFiles:f}=e,{detail:y}=(0,o.d4)((e=>e.employeesReducer));return(0,d.useEffect)((()=>{t(null===y||void 0===y?void 0:y.dob)}),[null===y||void 0===y?void 0:y.dob]),(0,p.jsx)(i.Z,{w:"50%",children:(0,p.jsx)(l.b,{children:(0,p.jsxs)(r.B,{spacing:"5",divider:(0,p.jsx)(n.G,{}),children:[(0,p.jsx)(g.A,{value:s,onChange:e=>t(e),isDisabled:a}),(0,p.jsx)(h,{isRequired:!0,value:c,onChange:e=>u(e),isDisabled:a}),(0,p.jsx)(b,{isRequired:!0,value:m,onChange:e=>v(e),isDisabled:a}),(0,p.jsx)(E,{uploadedFiles:x,setUploadedFiles:f,isDisabled:a})]})})})}},88589:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var i=s(34057),l=s(73818),r=s(79590),n=s(93389),o=s(17005),d=s(66685),t=s(38044),c=s(54990),u=s(92376),m=s(66320),v=s(12460),p=s(48032),h=s(90785),g=s(59017);const b=e=>{const a=(0,o.wA)(),s=(0,c.K)(u.mN),b=(0,r.zy)(),[x,f]=(0,d.useState)(),[y,j]=(0,d.useState)(new Date),[E,A]=(0,d.useState)(),[S,C]=(0,d.useState)([]),{employeeId:_}=(0,r.g)();return(0,d.useEffect)((()=>{a(t.o1.GET_DETAIL_ASYNC(_))}),[]),(0,g.jsxs)(d.Fragment,{children:[(0,g.jsxs)(i.z,{pb:5,children:[(0,g.jsx)(m.p,{typical:"list",permission:"employee.view",as:n.N_,to:(0,v.Gm)("/dashboard/organisation",b)}),(0,g.jsx)(m.p,{typical:"edit",permission:"employee.update",as:n.N_,to:(0,v.Gm)(`/dashboard/organisation/${_}/edit`,b)})]}),(0,g.jsxs)(l.B,{direction:{base:"column",xl:"row"},justify:"space-between",children:[(0,g.jsx)(p.A,{form:s,isDisabled:!0}),(0,g.jsx)(h.A,{isDisabled:!0,employeeDob:y,handleSetEmployeeDob:j,employeeRole:x,handleSetEmployeeRole:f,employeeStatus:E,handleSetEmployeeStatus:A,uploadedFiles:S,setUploadedFiles:C})]})]})}},53767:(e,a,s)=>{s.d(a,{e:()=>f});var i=s(87930),[l,r]=(0,i.q)({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"}),n=s(53546),o=s(59017);function d(e){var a;const s=e.split(" "),i=null!=(a=s[0])?a:"",l=s.length>1?s[s.length-1]:"";return i&&l?`${i.charAt(0)}${l.charAt(0)}`:i.charAt(0)}function t(e){const{name:a,getInitials:s,...i}=e,l=r();return(0,o.jsx)(n.B.div,{role:"img","aria-label":a,...i,__css:l.label,children:a?null==s?void 0:s(a):null})}t.displayName="AvatarName";var c=e=>(0,o.jsxs)(n.B.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[(0,o.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,o.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),u=s(37313),m=s(66685);function v(e){const{src:a,srcSet:s,onError:i,onLoad:l,getInitials:r,name:d,borderRadius:v,loading:p,iconLabel:h,icon:g=(0,o.jsx)(c,{}),ignoreFallback:b,referrerPolicy:x,crossOrigin:f}=e,y=(0,u.l)({src:a,onError:i,crossOrigin:f,ignoreFallback:b});return!a||!("loaded"===y)?d?(0,o.jsx)(t,{className:"chakra-avatar__initials",getInitials:r,name:d}):(0,m.cloneElement)(g,{role:"img","aria-label":h}):(0,o.jsx)(n.B.img,{src:a,srcSet:s,alt:d,onLoad:l,referrerPolicy:x,crossOrigin:null!=f?f:void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:v}})}v.displayName="AvatarImage";var p=s(21376),h=s(91275),g=s(26588),b=s(15848),x={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},f=(0,p.R)(((e,a)=>{const s=(0,h.o5)("Avatar",e),[i,r]=(0,m.useState)(!1),{src:t,srcSet:u,name:p,showBorder:f,borderRadius:y="full",onError:j,onLoad:E,getInitials:A=d,icon:S=(0,o.jsx)(c,{}),iconLabel:C=" avatar",loading:_,children:w,borderColor:R,ignoreFallback:D,crossOrigin:F,referrerPolicy:N,...L}=(0,g.MN)(e),k={borderRadius:y,borderWidth:f?"2px":void 0,...x,...s.container};return R&&(k.borderColor=R),(0,o.jsx)(n.B.span,{ref:a,...L,className:(0,b.cx)("chakra-avatar",e.className),"data-loaded":(0,b.sE)(i),__css:k,children:(0,o.jsxs)(l,{value:s,children:[(0,o.jsx)(v,{src:t,srcSet:u,loading:_,onLoad:(0,b.Hj)(E,(()=>{r(!0)})),onError:j,getInitials:A,name:p,borderRadius:y,icon:S,iconLabel:C,ignoreFallback:D,crossOrigin:F,referrerPolicy:N}),w]})})}));f.displayName="Avatar"},24137:(e,a,s)=>{s.d(a,{b:()=>d});var i=s(84025),l=s(15848),r=s(21376),n=s(53546),o=s(59017),d=(0,r.R)((function(e,a){const{className:s,...r}=e,d=(0,i.Q)();return(0,o.jsx)(n.B.div,{ref:a,className:(0,l.cx)("chakra-card__body",s),__css:d.body,...r})}))},84025:(e,a,s)=>{s.d(a,{Q:()=>r,s:()=>l});var i=s(72632),[l,r]=(0,i.Wh)("Card")},72003:(e,a,s)=>{s.d(a,{Z:()=>c});var i=s(84025),l=s(15848),r=s(21376),n=s(26588),o=s(91275),d=s(53546),t=s(59017),c=(0,r.R)((function(e,a){const{className:s,children:r,direction:c="column",justify:u,align:m,...v}=(0,n.MN)(e),p=(0,o.o5)("Card",e);return(0,t.jsx)(d.B.div,{ref:a,className:(0,l.cx)("chakra-card",s),__css:{display:"flex",flexDirection:c,justifyContent:u,alignItems:m,position:"relative",minWidth:0,wordWrap:"break-word",...p.container},...v,children:(0,t.jsx)(i.s,{value:p,children:r})})}))},37313:(e,a,s)=>{s.d(a,{l:()=>r,m:()=>n});var i=s(68389),l=s(66685);function r(e){const{loading:a,src:s,srcSet:r,onLoad:n,onError:o,crossOrigin:d,sizes:t,ignoreFallback:c}=e,[u,m]=(0,l.useState)("pending");(0,l.useEffect)((()=>{m(s?"loading":"pending")}),[s]);const v=(0,l.useRef)(),p=(0,l.useCallback)((()=>{if(!s)return;h();const e=new Image;e.src=s,d&&(e.crossOrigin=d),r&&(e.srcset=r),t&&(e.sizes=t),a&&(e.loading=a),e.onload=e=>{h(),m("loaded"),null==n||n(e)},e.onerror=e=>{h(),m("failed"),null==o||o(e)},v.current=e}),[s,d,r,t,n,o,a]),h=()=>{v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return(0,i.U)((()=>{if(!c)return"loading"===u&&p(),()=>{h()}}),[u,p,c]),c?"loaded":u}var n=(e,a)=>"loaded"!==e&&"beforeLoadOrError"===a||"failed"===e&&"onError"===a}}]);
//# sourceMappingURL=8589.c66e7e03.chunk.js.map