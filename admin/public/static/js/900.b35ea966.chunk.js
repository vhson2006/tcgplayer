"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[900],{87432:(e,a,r)=>{r.d(a,{A:()=>c});var s=r(19645),n=r(17005),l=r(59017);const c=e=>{const{permission:a,...r}=e,{permission:c}=(0,n.d4)((e=>e.authenticationReducer));if(a){const e=a.split(".");return c&&c[e[0]]&&c[e[0]].includes(e[1])?(0,l.jsx)(s.K,{...r}):(0,l.jsx)(l.Fragment,{})}return(0,l.jsx)(s.K,{...r})}},417:(e,a,r)=>{r.d(a,{A:()=>x});var s=r(44875),n=r(71814),l=r(75404),c=r(92662),t=r(63871),o=r(61002),i=r(73818),d=r(95890),u=r(91530),h=r(77121),m=r(70727),p=r(59017);const x=e=>{const{typical:a,errors:r,register:x,getValues:g,handleSubmit:j,setValue:v,trigger:b,...y}=e;return(0,p.jsxs)(s.MJ,{variant:"floating",id:u.p[a].name,isInvalid:!0,children:[(0,p.jsxs)(n.M,{children:[u.p[a].icon?(0,p.jsx)(l.W,{pointerEvents:"none",children:(0,p.jsx)(c.I,{as:u.p[a].icon,color:"fg.muted",boxSize:"4"})}):(0,p.jsx)(p.Fragment,{}),(0,p.jsx)(t.p,{isInvalid:r.hasOwnProperty(u.p[a].name),errorBorderColor:"red.300",type:"password"!==u.p[a].name?"text":"password",...x(u.p[a].name,u.p[a].rules),placeholder:"",...y}),u.p[a].rules&&u.p[a].rules.hasOwnProperty("required")&&u.p[a].rules.required?(0,p.jsxs)(o.l,{children:[(0,h.t)(u.p[a].placeholder),"\xa0",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}):(0,p.jsx)(o.l,{children:(0,h.t)(u.p[a].placeholder)}),!r.hasOwnProperty(u.p[a].name)&&""!=g(u.p[a].name)&&(0,p.jsx)(l.t,{children:(0,p.jsx)(c.I,{as:m.GHp,color:"green.500",boxSize:"5"})})]}),r.hasOwnProperty(u.p[a].name)&&(0,p.jsx)(i.B,{pt:"1",children:(0,p.jsx)(d.E,{color:"tomato",fontSize:"10px",children:(0,p.jsx)("i",{children:(0,h.t)(`error.${r[u.p[a].name].type}`)})})})]})}},36866:(e,a,r)=>{r.d(a,{A:()=>h});var s=r(63812),n=r(75783),l=r(19645),c=r(12113),t=r(66685),o=r(70727),i=r(79590),d=r(12460),u=r(59017);const h=e=>{const{total:a=0}=e,[r,h]=(0,t.useState)(0),{params:m}=(0,d.lT)(),p=(0,i.Zp)(),x=(0,i.zy)(),{page:g=c.XB,size:j=c.md}=m;return(0,u.jsxs)(n.e,{spacing:"3",justifyContent:"space-center",width:{base:"full",md:"auto"},children:[(0,u.jsx)(l.K,{variant:"secondary","aria-label":"Before pagination",onClick:()=>{r>0&&h(r-1)},children:(0,u.jsx)(o.oe,{})}),Array.from(Array(Math.ceil(a/j)).keys()).splice(5*r,5).map((e=>(0,u.jsx)(s.$,{variant:e+1===parseInt(g)?"primary":"secondary",onClick:()=>{e+1>=5*(r+1)&&r+1<Math.ceil(Math.ceil(a/j)/5)&&h(r+1),(e=>{p(`${x.pathname}?${(0,d.VZ)({...m,page:e,size:j})}`)})(e+1)},children:e+1},e))),(0,u.jsx)(l.K,{variant:"secondary","aria-label":"Next pagination",onClick:()=>{r+1<Math.ceil(Math.ceil(a/j)/5)&&h(r+1)},children:(0,u.jsx)(o.oLC,{})})]})}},61726:(e,a,r)=>{r.d(a,{A:()=>_});var s=r(38755),n=r(89574),l=r(86217),c=r(66685),t=r(75100),o=r(38757),i=r(87088),d=r(88171),u=r(56697),h=r(53546),m=r(56166),p=r(21561),x=r(47685),g=r(25787),j=r(63429),v=r(59017);const b=function(e){let{data:a,columns:r}=e;const[s,n]=c.useState([]),b=(0,j.N4)({columns:r,data:a,getCoreRowModel:(0,l.HT)(),onSortingChange:n,getSortedRowModel:(0,l.h5)(),state:{sorting:s}});return(0,v.jsx)(t.K,{className:"custom-table",children:(0,v.jsxs)(o.X,{children:[(0,v.jsx)(i.d,{children:b.getHeaderGroups().map((e=>(0,v.jsx)(d.Tr,{children:e.headers.map((e=>{const a=e.column.columnDef.meta;return(0,v.jsxs)(u.Th,{onClick:e.column.getToggleSortingHandler(),isNumeric:null===a||void 0===a?void 0:a.isNumeric,className:"selected"===e.id?"checkbox-select":"",children:[(0,j.Kv)(e.column.columnDef.header,e.getContext()),(0,v.jsx)(h.B.span,{pl:"4",children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,v.jsx)(x.k,{"aria-label":"sorted descending"}):(0,v.jsx)(g.D,{"aria-label":"sorted ascending"}):null})]},e.id)}))},e.id)))}),(0,v.jsx)(m.N,{children:b.getRowModel().rows.map((e=>(0,v.jsx)(d.Tr,{children:e.getVisibleCells().map((e=>{const a=e.column.columnDef.meta;return(0,v.jsx)(p.Td,{isNumeric:null===a||void 0===a?void 0:a.isNumeric,children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})]})})};var y=r(83841),f=r(22700),A=r(39475),C=r(13716),w=r(34057),E=r(24786),S=r(54757),N=r(26604),M=r(60019),T=r(17005);const V=e=>{const[a,r]=c.useState([]),{data:s,columns:t,permissionGroup:o,onSelect:i}=e,{permission:d}=(0,T.d4)((e=>e.authenticationReducer)),u=(0,j.N4)({columns:t,data:s,getCoreRowModel:(0,l.HT)(),onSortingChange:r,getSortedRowModel:(0,l.h5)(),state:{sorting:a}}).getRowModel().rows;return(0,v.jsx)(y.n,{allowMultiple:!0,children:s.map(((e,a)=>{const r=u.find((a=>a.original===e)),s=r.getVisibleCells().find((e=>e.column.id==t.filter((e=>"selected"!==e.accessorKey))[0].accessorKey));return(0,v.jsxs)(f.A,{children:[(0,v.jsx)("h2",{children:(0,v.jsxs)(A.J,{children:["function"===typeof i&&d&&o&&d[o]&&Array.isArray(d[o])&&d[o].includes("update")?(0,v.jsx)(C.az,{as:"span",flex:"1",textAlign:"left",onClick:e=>e.stopPropagation(),children:(0,v.jsxs)(w.z,{spacing:"3",children:[(0,v.jsx)(n.S,{onChange:r=>{i({id:e.id?e.id:a.toString(),value:r.target.checked})}}),(0,j.Kv)(s.column.columnDef.cell,s.getContext())]})}):(0,j.Kv)(s.column.columnDef.cell,s.getContext()),(0,v.jsx)(E.Q,{})]})}),(0,v.jsx)(S.v,{pb:4,children:t.filter((e=>"selected"!==e.accessorKey)).map((e=>{const s=r.getVisibleCells().find((a=>a.column.id==e.accessorKey));return(0,v.jsxs)(c.Fragment,{children:[(0,v.jsxs)(N.s,{my:"5",children:[(0,v.jsx)(C.az,{flex:"1",children:e.header}),(0,v.jsx)(C.az,{flex:"1",children:(0,j.Kv)(s.column.columnDef.cell,s.getContext())})]}),(0,v.jsx)(M.c,{})]},`${a}_${e.accessorKey}`)}))})]},a)}))})},R=(0,l.FB)(),_=e=>{const a=(0,s.A)({base:!0,md:!1}),{data:r,columns:l,permissionGroup:c,onSelect:t}=e,{permission:o}=(0,T.d4)((e=>e.authenticationReducer));return a?(0,v.jsx)(V,{...e}):"function"===typeof t&&o&&c&&o[c]&&Array.isArray(o[c])&&o[c].includes("update")?(0,v.jsx)(b,{data:r,columns:[R.accessor("selected",{cell:e=>(0,v.jsx)(n.S,{onChange:a=>{t({id:e.row.original.id?e.row.original.id:e.row.id,value:a.target.checked})}}),header:""}),...l]}):(0,v.jsx)(b,{data:r,columns:l})}},900:(e,a,r)=>{r.r(a),r.d(a,{VoucherPage:()=>K,default:()=>O});var s=r(73818),n=r(13716),l=r(92376),c=r(66685),t=r(12460),o=r(54990),i=r(79590),d=r(417),u=r(17005),h=r(53678),m=r(6738),p=r(66320),x=r(59017);const g=e=>{const{params:a}=(0,t.lT)(),r=(0,i.Zp)(),n=(0,i.zy)(),g=(0,u.wA)(),j={search:null,...a},v=(0,o.K)(l.mN);(0,c.useEffect)((()=>{v.setValue("search",j.search)}),[]);return(0,x.jsx)("form",{onSubmit:null===v||void 0===v?void 0:v.handleSubmit((e=>{r(`${n.pathname}?${(0,t.VZ)({...a,...e})}`)})),children:(0,x.jsxs)(s.B,{spacing:5,direction:{base:"column",md:"row"},children:[(0,x.jsx)(s.B,{maxW:"sm",children:(0,x.jsx)(d.A,{...v,typical:"search"})}),(0,x.jsx)(p.p,{typical:"add",permission:"voucher.create",onClick:()=>{g(h.o1.OPEN_DRAWER({type:m.ADD_VOUCHER_DRAWER,size:"xl",data:{}}))}}),(0,x.jsx)(p.p,{type:"submit",permission:"voucher.view",typical:"search"})]})})};var j=r(19568),v=r(61726),b=r(77121),y=r(19898),f=r(66710),A=r(95890),C=r(64982),w=r(34057),E=r(86217),S=r(12113),N=r(87432),M=r(65863),T=r(51585),V=r(93389),R=r(58938);const _=(0,E.FB)(),k=e=>{const{t:a,location:r,activedLanguage:s,deleteVoucherHandler:n}=e;return[_.accessor("code",{cell:e=>(0,x.jsx)(A.E,{children:e.getValue()}),header:a("table.voucher.code")}),_.accessor("value",{cell:e=>(0,x.jsx)(A.E,{children:e.getValue()}),header:a("table.voucher.value")}),_.accessor("min",{cell:e=>(0,x.jsx)(A.E,{children:e.getValue()}),header:a("table.voucher.min")}),_.accessor("max",{cell:e=>(0,x.jsx)(A.E,{children:e.getValue()}),header:a("table.voucher.max")}),_.accessor("type",{cell:e=>{var a;return(0,x.jsx)(C.E,{size:"sm",mr:1,colorScheme:S.Tj[Math.floor(Math.random()*S.Tj.length)],children:(0,R.G)(null===(a=e.getValue())||void 0===a?void 0:a.typeName)[s]})},header:a("table.voucher.type")}),_.accessor("conditionType",{cell:e=>{var a;return(0,x.jsx)(C.E,{size:"sm",mr:1,colorScheme:S.Tj[Math.floor(Math.random()*S.Tj.length)],children:(0,R.G)(null===(a=e.getValue())||void 0===a?void 0:a.typeName)[s]})},header:a("table.voucher.condition-type")}),_.accessor("conditionValue",{cell:e=>(0,x.jsx)(A.E,{children:e.getValue()}),header:a("table.voucher.condition-value")}),_.accessor("id",{cell:e=>(0,x.jsxs)(w.z,{spacing:"1",children:[(0,x.jsx)(N.A,{icon:(0,x.jsx)(T.bZk,{}),variant:"tertiary",permission:"voucher.view","aria-label":"View voucher",as:V.N_,to:(0,t.Gm)(`/dashboard/customer/voucher/${e.getValue()}`,r)}),(0,x.jsx)(N.A,{icon:(0,x.jsx)(M.WXf,{}),variant:"tertiary",permission:"voucher.update","aria-label":"Edit voucher",as:V.N_,to:(0,t.Gm)(`/dashboard/customer/voucher/${e.getValue()}/edit`,r)}),(0,x.jsx)(N.A,{icon:(0,x.jsx)(M.IXo,{}),variant:"tertiary",permission:"voucher.delete","aria-label":"Delete voucher",onClick:()=>n(e.row.original.id)})]}),header:a("table.action")})]},z=e=>{const a=(0,i.zy)(),r=(0,u.wA)(),{activedLanguage:s}=(0,u.d4)((e=>e.languageReducer)),{list:n}=(0,u.d4)((e=>e.voucherReducer)),{params:l}=(0,t.lT)(),o=(0,c.useCallback)((e=>{r(y.o1.OPEN_MODAL({type:f.DELETE_CONFIRMATION_MODAL,data:{next:()=>{r(j.o1.DELETE_ASYNC({id:e,params:l})),r(y.o1.CLOSE_MODAL(f.DELETE_CONFIRMATION_MODAL))}}}))}),[]);return(0,c.useMemo)((()=>(0,x.jsx)(v.A,{data:n||[],columns:k({t:b.t,deleteVoucherHandler:o,location:a,activedLanguage:s})})),[n])};var D=r(36866);const K=()=>{const{total:e}=(0,u.d4)((e=>e.voucherReducer)),a=(0,u.wA)(),{params:r,fullPath:l}=(0,t.lT)();return(0,c.useEffect)((()=>{a(j.o1.GET_LIST_ASYNC(r))}),[]),(0,c.useEffect)((()=>{a(j.o1.GET_LIST_ASYNC(r))}),[l]),(0,x.jsx)(s.B,{spacing:{base:"8",lg:"6"},children:(0,x.jsx)(n.az,{bg:"bg.surface",boxShadow:{base:"none",md:"sm"},borderRadius:{base:"none",md:"lg"},children:(0,x.jsxs)(s.B,{spacing:"5",children:[(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pt:"5",children:(0,x.jsx)(g,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},overflowX:"scroll",children:(0,x.jsx)(z,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pb:"5",children:(0,x.jsx)(s.B,{alignItems:"center",children:(0,x.jsx)(D.A,{total:e})})})]})})})},O=K},64982:(e,a,r)=>{r.d(a,{E:()=>i});var s=r(21376),n=r(91275),l=r(26588),c=r(53546),t=r(15848),o=r(59017),i=(0,s.R)((function(e,a){const r=(0,n.Vl)("Badge",e),{className:s,...i}=(0,l.MN)(e);return(0,o.jsx)(c.B.span,{ref:a,className:(0,t.cx)("chakra-badge",e.className),...i,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})}));i.displayName="Badge"}}]);
//# sourceMappingURL=900.b35ea966.chunk.js.map