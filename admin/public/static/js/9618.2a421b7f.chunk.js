"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[9618],{87432:(e,r,s)=>{s.d(r,{A:()=>l});var a=s(19645),n=s(17005),t=s(59017);const l=e=>{const{permission:r,...s}=e,{permission:l}=(0,n.d4)((e=>e.authenticationReducer));if(r){const e=r.split(".");return l&&l[e[0]]&&l[e[0]].includes(e[1])?(0,t.jsx)(a.K,{...s}):(0,t.jsx)(t.Fragment,{})}return(0,t.jsx)(a.K,{...s})}},417:(e,r,s)=>{s.d(r,{A:()=>x});var a=s(44875),n=s(71814),t=s(75404),l=s(92662),o=s(63871),i=s(61002),c=s(73818),d=s(95890),u=s(91530),p=s(77121),m=s(70727),h=s(59017);const x=e=>{const{typical:r,errors:s,register:x,getValues:j,handleSubmit:g,setValue:y,trigger:v,...b}=e;return(0,h.jsxs)(a.MJ,{variant:"floating",id:u.p[r].name,isInvalid:!0,children:[(0,h.jsxs)(n.M,{children:[u.p[r].icon?(0,h.jsx)(t.W,{pointerEvents:"none",children:(0,h.jsx)(l.I,{as:u.p[r].icon,color:"fg.muted",boxSize:"4"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(o.p,{isInvalid:s.hasOwnProperty(u.p[r].name),errorBorderColor:"red.300",type:"password"!==u.p[r].name?"text":"password",...x(u.p[r].name,u.p[r].rules),placeholder:"",...b}),u.p[r].rules&&u.p[r].rules.hasOwnProperty("required")&&u.p[r].rules.required?(0,h.jsxs)(i.l,{children:[(0,p.t)(u.p[r].placeholder),"\xa0",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}):(0,h.jsx)(i.l,{children:(0,p.t)(u.p[r].placeholder)}),!s.hasOwnProperty(u.p[r].name)&&""!=j(u.p[r].name)&&(0,h.jsx)(t.t,{children:(0,h.jsx)(l.I,{as:m.GHp,color:"green.500",boxSize:"5"})})]}),s.hasOwnProperty(u.p[r].name)&&(0,h.jsx)(c.B,{pt:"1",children:(0,h.jsx)(d.E,{color:"tomato",fontSize:"10px",children:(0,h.jsx)("i",{children:(0,p.t)(`error.${s[u.p[r].name].type}`)})})})]})}},36866:(e,r,s)=>{s.d(r,{A:()=>p});var a=s(63812),n=s(75783),t=s(19645),l=s(12113),o=s(66685),i=s(70727),c=s(79590),d=s(12460),u=s(59017);const p=e=>{const{total:r=0}=e,[s,p]=(0,o.useState)(0),{params:m}=(0,d.lT)(),h=(0,c.Zp)(),x=(0,c.zy)(),{page:j=l.XB,size:g=l.md}=m;return(0,u.jsxs)(n.e,{spacing:"3",justifyContent:"space-center",width:{base:"full",md:"auto"},children:[(0,u.jsx)(t.K,{variant:"secondary","aria-label":"Before pagination",onClick:()=>{s>0&&p(s-1)},children:(0,u.jsx)(i.oe,{})}),Array.from(Array(Math.ceil(r/g)).keys()).splice(5*s,5).map((e=>(0,u.jsx)(a.$,{variant:e+1===parseInt(j)?"primary":"secondary",onClick:()=>{e+1>=5*(s+1)&&s+1<Math.ceil(Math.ceil(r/g)/5)&&p(s+1),(e=>{h(`${x.pathname}?${(0,d.VZ)({...m,page:e,size:g})}`)})(e+1)},children:e+1},e))),(0,u.jsx)(t.K,{variant:"secondary","aria-label":"Next pagination",onClick:()=>{s+1<Math.ceil(Math.ceil(r/g)/5)&&p(s+1)},children:(0,u.jsx)(i.oLC,{})})]})}},28257:(e,r,s)=>{s.d(r,{W:()=>a});const a={width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},61726:(e,r,s)=>{s.d(r,{A:()=>D});var a=s(38755),n=s(89574),t=s(86217),l=s(66685),o=s(75100),i=s(38757),c=s(87088),d=s(88171),u=s(56697),p=s(53546),m=s(56166),h=s(21561),x=s(47685),j=s(25787),g=s(63429),y=s(59017);const v=function(e){let{data:r,columns:s}=e;const[a,n]=l.useState([]),v=(0,g.N4)({columns:s,data:r,getCoreRowModel:(0,t.HT)(),onSortingChange:n,getSortedRowModel:(0,t.h5)(),state:{sorting:a}});return(0,y.jsx)(o.K,{className:"custom-table",children:(0,y.jsxs)(i.X,{children:[(0,y.jsx)(c.d,{children:v.getHeaderGroups().map((e=>(0,y.jsx)(d.Tr,{children:e.headers.map((e=>{const r=e.column.columnDef.meta;return(0,y.jsxs)(u.Th,{onClick:e.column.getToggleSortingHandler(),isNumeric:null===r||void 0===r?void 0:r.isNumeric,className:"selected"===e.id?"checkbox-select":"",children:[(0,g.Kv)(e.column.columnDef.header,e.getContext()),(0,y.jsx)(p.B.span,{pl:"4",children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,y.jsx)(x.k,{"aria-label":"sorted descending"}):(0,y.jsx)(j.D,{"aria-label":"sorted ascending"}):null})]},e.id)}))},e.id)))}),(0,y.jsx)(m.N,{children:v.getRowModel().rows.map((e=>(0,y.jsx)(d.Tr,{children:e.getVisibleCells().map((e=>{const r=e.column.columnDef.meta;return(0,y.jsx)(h.Td,{isNumeric:null===r||void 0===r?void 0:r.isNumeric,children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})]})})};var b=s(83841),f=s(22700),w=s(39475),A=s(13716),S=s(34057),C=s(24786),E=s(54757),N=s(26604),M=s(60019),T=s(17005);const R=e=>{const[r,s]=l.useState([]),{data:a,columns:o,permissionGroup:i,onSelect:c}=e,{permission:d}=(0,T.d4)((e=>e.authenticationReducer)),u=(0,g.N4)({columns:o,data:a,getCoreRowModel:(0,t.HT)(),onSortingChange:s,getSortedRowModel:(0,t.h5)(),state:{sorting:r}}).getRowModel().rows;return(0,y.jsx)(b.n,{allowMultiple:!0,children:a.map(((e,r)=>{const s=u.find((r=>r.original===e)),a=s.getVisibleCells().find((e=>e.column.id==o.filter((e=>"selected"!==e.accessorKey))[0].accessorKey));return(0,y.jsxs)(f.A,{children:[(0,y.jsx)("h2",{children:(0,y.jsxs)(w.J,{children:["function"===typeof c&&d&&i&&d[i]&&Array.isArray(d[i])&&d[i].includes("update")?(0,y.jsx)(A.az,{as:"span",flex:"1",textAlign:"left",onClick:e=>e.stopPropagation(),children:(0,y.jsxs)(S.z,{spacing:"3",children:[(0,y.jsx)(n.S,{onChange:s=>{c({id:e.id?e.id:r.toString(),value:s.target.checked})}}),(0,g.Kv)(a.column.columnDef.cell,a.getContext())]})}):(0,g.Kv)(a.column.columnDef.cell,a.getContext()),(0,y.jsx)(C.Q,{})]})}),(0,y.jsx)(E.v,{pb:4,children:o.filter((e=>"selected"!==e.accessorKey)).map((e=>{const a=s.getVisibleCells().find((r=>r.column.id==e.accessorKey));return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)(N.s,{my:"5",children:[(0,y.jsx)(A.az,{flex:"1",children:e.header}),(0,y.jsx)(A.az,{flex:"1",children:(0,g.Kv)(a.column.columnDef.cell,a.getContext())})]}),(0,y.jsx)(M.c,{})]},`${r}_${e.accessorKey}`)}))})]},r)}))})},z=(0,t.FB)(),D=e=>{const r=(0,a.A)({base:!0,md:!1}),{data:s,columns:t,permissionGroup:l,onSelect:o}=e,{permission:i}=(0,T.d4)((e=>e.authenticationReducer));return r?(0,y.jsx)(R,{...e}):"function"===typeof o&&i&&l&&i[l]&&Array.isArray(i[l])&&i[l].includes("update")?(0,y.jsx)(v,{data:s,columns:[z.accessor("selected",{cell:e=>(0,y.jsx)(n.S,{onChange:r=>{o({id:e.row.original.id?e.row.original.id:e.row.id,value:r.target.checked})}}),header:""}),...t]}):(0,y.jsx)(v,{data:s,columns:t})}},49618:(e,r,s)=>{s.r(r),s.d(r,{OrderPage:()=>K,default:()=>B});var a=s(73818),n=s(13716),t=s(92376),l=s(66685),o=s(12460),i=s(54990),c=s(79590),d=s(417),u=s(17005),p=s(53678),m=s(6962),h=s(66320),x=s(59017);const j=e=>{const{params:r}=(0,o.lT)(),s=(0,c.Zp)(),n=(0,c.zy)(),j=(0,u.wA)(),g={search:null,...r},y=(0,i.K)(t.mN);(0,l.useEffect)((()=>{y.setValue("search",g.search)}),[]);return(0,x.jsx)("form",{onSubmit:null===y||void 0===y?void 0:y.handleSubmit((e=>{s(`${n.pathname}?${(0,o.VZ)({...r,...e})}`)})),children:(0,x.jsxs)(a.B,{spacing:5,direction:{base:"column",md:"row"},children:[(0,x.jsx)(a.B,{maxW:"sm",children:(0,x.jsx)(d.A,{...y,typical:"search"})}),(0,x.jsx)(h.p,{typical:"add",permission:"order.create",onClick:()=>{j(p.o1.OPEN_DRAWER({type:m.ADD_ORDER_DRAWER,size:"xl",data:{}}))}}),(0,x.jsx)(h.p,{type:"submit",permission:"order.view",typical:"search"})]})})};var g=s(55184),y=s(61726),v=s(77121),b=s(19898),f=s(66710),w=s(95890),A=s(64982),S=s(34057),C=s(86217),E=s(12113),N=s(87432),M=s(28257),T=s(65863),R=s(51585),z=s(93389),D=s(58938);const _=(0,C.FB)(),k=e=>{const{t:r,location:s,activedLanguage:a,deleteOrderHandler:n}=e;return[_.accessor("serial",{cell:e=>(0,x.jsx)(w.E,{style:{...M.W,width:"200px"},children:e.getValue()}),header:r("table.order.serial")}),_.accessor("phone",{cell:e=>(0,x.jsx)(w.E,{children:e.getValue()}),header:r("table.order.phone")}),_.accessor("address",{cell:e=>(0,x.jsx)(w.E,{style:M.W,children:e.getValue()}),header:r("table.order.address")}),_.accessor("status",{cell:e=>{var r;return(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:E.Tj[Math.floor(Math.random()*E.Tj.length)],children:(0,D.G)(null===(r=e.getValue())||void 0===r?void 0:r.typeName)[a]})},header:r("table.order.status")}),_.accessor("paymentType",{cell:e=>{var r;return(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:E.Tj[Math.floor(Math.random()*E.Tj.length)],children:(0,D.G)(null===(r=e.getValue())||void 0===r?void 0:r.typeName)[a]})},header:r("table.order.payment-type")}),_.accessor("paymentStatus",{cell:e=>{var r;return(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:E.Tj[Math.floor(Math.random()*E.Tj.length)],children:(0,D.G)(null===(r=e.getValue())||void 0===r?void 0:r.typeName)[a]})},header:r("table.order.payment-status")}),_.accessor("id",{cell:e=>(0,x.jsxs)(S.z,{spacing:"1",children:[(0,x.jsx)(N.A,{icon:(0,x.jsx)(R.bZk,{}),variant:"tertiary",permission:"order.view","aria-label":"View order",as:z.N_,to:(0,o.Gm)(`/dashboard/business/order/${e.getValue()}`,s)}),(0,x.jsx)(N.A,{icon:(0,x.jsx)(T.WXf,{}),variant:"tertiary",permission:"order.update","aria-label":"Edit order",as:z.N_,to:(0,o.Gm)(`/dashboard/business/order/${e.getValue()}/edit`,s)}),(0,x.jsx)(N.A,{icon:(0,x.jsx)(T.IXo,{}),variant:"tertiary",permission:"order.delete","aria-label":"Delete order",onClick:()=>n(e.row.original.id)})]}),header:r("table.action")})]},O=e=>{const r=(0,c.zy)(),s=(0,u.wA)(),{activedLanguage:a}=(0,u.d4)((e=>e.languageReducer)),{list:n}=(0,u.d4)((e=>e.orderReducer)),{params:t}=(0,o.lT)(),i=(0,l.useCallback)((e=>{s(b.o1.OPEN_MODAL({type:f.DELETE_CONFIRMATION_MODAL,data:{next:()=>{s(g.o1.DELETE_ASYNC({id:e,params:t})),s(b.o1.CLOSE_MODAL(f.DELETE_CONFIRMATION_MODAL))}}}))}),[]);return(0,l.useMemo)((()=>(0,x.jsx)(y.A,{data:n||[],columns:k({t:v.t,deleteOrderHandler:i,location:r,activedLanguage:a})})),[n])};var V=s(36866);const K=()=>{const{total:e}=(0,u.d4)((e=>e.orderReducer)),r=(0,u.wA)(),{params:s,fullPath:t}=(0,o.lT)();return(0,l.useEffect)((()=>{r(g.o1.GET_LIST_ASYNC(s))}),[]),(0,l.useEffect)((()=>{r(g.o1.GET_LIST_ASYNC(s))}),[t]),(0,x.jsx)(a.B,{spacing:{base:"8",lg:"6"},children:(0,x.jsx)(n.az,{bg:"bg.surface",boxShadow:{base:"none",md:"sm"},borderRadius:{base:"none",md:"lg"},children:(0,x.jsxs)(a.B,{spacing:"5",children:[(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pt:"5",children:(0,x.jsx)(j,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},overflowX:"scroll",children:(0,x.jsx)(O,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pb:"5",children:(0,x.jsx)(a.B,{alignItems:"center",children:(0,x.jsx)(V.A,{total:e})})})]})})})},B=K},64982:(e,r,s)=>{s.d(r,{E:()=>c});var a=s(21376),n=s(91275),t=s(26588),l=s(53546),o=s(15848),i=s(59017),c=(0,a.R)((function(e,r){const s=(0,n.Vl)("Badge",e),{className:a,...c}=(0,t.MN)(e);return(0,i.jsx)(l.B.span,{ref:r,className:(0,o.cx)("chakra-badge",e.className),...c,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...s}})}));c.displayName="Badge"}}]);
//# sourceMappingURL=9618.2a421b7f.chunk.js.map