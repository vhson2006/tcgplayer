"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[9850],{87432:(e,a,s)=>{s.d(a,{A:()=>l});var r=s(19645),n=s(17005),i=s(59017);const l=e=>{const{permission:a,...s}=e,{permission:l}=(0,n.d4)((e=>e.authenticationReducer));if(a){const e=a.split(".");return l&&l[e[0]]&&l[e[0]].includes(e[1])?(0,i.jsx)(r.K,{...s}):(0,i.jsx)(i.Fragment,{})}return(0,i.jsx)(r.K,{...s})}},417:(e,a,s)=>{s.d(a,{A:()=>x});var r=s(44875),n=s(71814),i=s(75404),l=s(92662),t=s(63871),c=s(61002),o=s(73818),d=s(95890),m=s(91530),u=s(77121),p=s(70727),h=s(59017);const x=e=>{const{typical:a,errors:s,register:x,getValues:g,handleSubmit:j,setValue:f,trigger:b,...y}=e;return(0,h.jsxs)(r.MJ,{variant:"floating",id:m.p[a].name,isInvalid:!0,children:[(0,h.jsxs)(n.M,{children:[m.p[a].icon?(0,h.jsx)(i.W,{pointerEvents:"none",children:(0,h.jsx)(l.I,{as:m.p[a].icon,color:"fg.muted",boxSize:"4"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(t.p,{isInvalid:s.hasOwnProperty(m.p[a].name),errorBorderColor:"red.300",type:"password"!==m.p[a].name?"text":"password",...x(m.p[a].name,m.p[a].rules),placeholder:"",...y}),m.p[a].rules&&m.p[a].rules.hasOwnProperty("required")&&m.p[a].rules.required?(0,h.jsxs)(c.l,{children:[(0,u.t)(m.p[a].placeholder),"\xa0",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}):(0,h.jsx)(c.l,{children:(0,u.t)(m.p[a].placeholder)}),!s.hasOwnProperty(m.p[a].name)&&""!=g(m.p[a].name)&&(0,h.jsx)(i.t,{children:(0,h.jsx)(l.I,{as:p.GHp,color:"green.500",boxSize:"5"})})]}),s.hasOwnProperty(m.p[a].name)&&(0,h.jsx)(o.B,{pt:"1",children:(0,h.jsx)(d.E,{color:"tomato",fontSize:"10px",children:(0,h.jsx)("i",{children:(0,u.t)(`error.${s[m.p[a].name].type}`)})})})]})}},36866:(e,a,s)=>{s.d(a,{A:()=>u});var r=s(63812),n=s(75783),i=s(19645),l=s(12113),t=s(66685),c=s(70727),o=s(79590),d=s(12460),m=s(59017);const u=e=>{const{total:a=0}=e,[s,u]=(0,t.useState)(0),{params:p}=(0,d.lT)(),h=(0,o.Zp)(),x=(0,o.zy)(),{page:g=l.XB,size:j=l.md}=p;return(0,m.jsxs)(n.e,{spacing:"3",justifyContent:"space-center",width:{base:"full",md:"auto"},children:[(0,m.jsx)(i.K,{variant:"secondary","aria-label":"Before pagination",onClick:()=>{s>0&&u(s-1)},children:(0,m.jsx)(c.oe,{})}),Array.from(Array(Math.ceil(a/j)).keys()).splice(5*s,5).map((e=>(0,m.jsx)(r.$,{variant:e+1===parseInt(g)?"primary":"secondary",onClick:()=>{e+1>=5*(s+1)&&s+1<Math.ceil(Math.ceil(a/j)/5)&&u(s+1),(e=>{h(`${x.pathname}?${(0,d.VZ)({...p,page:e,size:j})}`)})(e+1)},children:e+1},e))),(0,m.jsx)(i.K,{variant:"secondary","aria-label":"Next pagination",onClick:()=>{s+1<Math.ceil(Math.ceil(a/j)/5)&&u(s+1)},children:(0,m.jsx)(c.oLC,{})})]})}},28257:(e,a,s)=>{s.d(a,{W:()=>r});const r={width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},61726:(e,a,s)=>{s.d(a,{A:()=>k});var r=s(38755),n=s(89574),i=s(86217),l=s(66685),t=s(75100),c=s(38757),o=s(87088),d=s(88171),m=s(56697),u=s(53546),p=s(56166),h=s(21561),x=s(47685),g=s(25787),j=s(63429),f=s(59017);const b=function(e){let{data:a,columns:s}=e;const[r,n]=l.useState([]),b=(0,j.N4)({columns:s,data:a,getCoreRowModel:(0,i.HT)(),onSortingChange:n,getSortedRowModel:(0,i.h5)(),state:{sorting:r}});return(0,f.jsx)(t.K,{className:"custom-table",children:(0,f.jsxs)(c.X,{children:[(0,f.jsx)(o.d,{children:b.getHeaderGroups().map((e=>(0,f.jsx)(d.Tr,{children:e.headers.map((e=>{const a=e.column.columnDef.meta;return(0,f.jsxs)(m.Th,{onClick:e.column.getToggleSortingHandler(),isNumeric:null===a||void 0===a?void 0:a.isNumeric,className:"selected"===e.id?"checkbox-select":"",children:[(0,j.Kv)(e.column.columnDef.header,e.getContext()),(0,f.jsx)(u.B.span,{pl:"4",children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,f.jsx)(x.k,{"aria-label":"sorted descending"}):(0,f.jsx)(g.D,{"aria-label":"sorted ascending"}):null})]},e.id)}))},e.id)))}),(0,f.jsx)(p.N,{children:b.getRowModel().rows.map((e=>(0,f.jsx)(d.Tr,{children:e.getVisibleCells().map((e=>{const a=e.column.columnDef.meta;return(0,f.jsx)(h.Td,{isNumeric:null===a||void 0===a?void 0:a.isNumeric,children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})]})})};var y=s(83841),v=s(22700),w=s(39475),A=s(13716),C=s(34057),S=s(24786),M=s(54757),E=s(26604),N=s(60019),T=s(17005);const D=e=>{const[a,s]=l.useState([]),{data:r,columns:t,permissionGroup:c,onSelect:o}=e,{permission:d}=(0,T.d4)((e=>e.authenticationReducer)),m=(0,j.N4)({columns:t,data:r,getCoreRowModel:(0,i.HT)(),onSortingChange:s,getSortedRowModel:(0,i.h5)(),state:{sorting:a}}).getRowModel().rows;return(0,f.jsx)(y.n,{allowMultiple:!0,children:r.map(((e,a)=>{const s=m.find((a=>a.original===e)),r=s.getVisibleCells().find((e=>e.column.id==t.filter((e=>"selected"!==e.accessorKey))[0].accessorKey));return(0,f.jsxs)(v.A,{children:[(0,f.jsx)("h2",{children:(0,f.jsxs)(w.J,{children:["function"===typeof o&&d&&c&&d[c]&&Array.isArray(d[c])&&d[c].includes("update")?(0,f.jsx)(A.az,{as:"span",flex:"1",textAlign:"left",onClick:e=>e.stopPropagation(),children:(0,f.jsxs)(C.z,{spacing:"3",children:[(0,f.jsx)(n.S,{onChange:s=>{o({id:e.id?e.id:a.toString(),value:s.target.checked})}}),(0,j.Kv)(r.column.columnDef.cell,r.getContext())]})}):(0,j.Kv)(r.column.columnDef.cell,r.getContext()),(0,f.jsx)(S.Q,{})]})}),(0,f.jsx)(M.v,{pb:4,children:t.filter((e=>"selected"!==e.accessorKey)).map((e=>{const r=s.getVisibleCells().find((a=>a.column.id==e.accessorKey));return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(E.s,{my:"5",children:[(0,f.jsx)(A.az,{flex:"1",children:e.header}),(0,f.jsx)(A.az,{flex:"1",children:(0,j.Kv)(r.column.columnDef.cell,r.getContext())})]}),(0,f.jsx)(N.c,{})]},`${a}_${e.accessorKey}`)}))})]},a)}))})},_=(0,i.FB)(),k=e=>{const a=(0,r.A)({base:!0,md:!1}),{data:s,columns:i,permissionGroup:l,onSelect:t}=e,{permission:c}=(0,T.d4)((e=>e.authenticationReducer));return a?(0,f.jsx)(D,{...e}):"function"===typeof t&&c&&l&&c[l]&&Array.isArray(c[l])&&c[l].includes("update")?(0,f.jsx)(b,{data:s,columns:[_.accessor("selected",{cell:e=>(0,f.jsx)(n.S,{onChange:a=>{t({id:e.row.original.id?e.row.original.id:e.row.id,value:a.target.checked})}}),header:""}),...i]}):(0,f.jsx)(b,{data:s,columns:i})}},29850:(e,a,s)=>{s.r(a),s.d(a,{MediaPage:()=>K,default:()=>O});var r=s(73818),n=s(13716),i=s(92376),l=s(66685),t=s(12460),c=s(54990),o=s(79590),d=s(417),m=s(17005),u=s(53678),p=s(90398),h=s(66320),x=s(59017);const g=e=>{const{params:a}=(0,t.lT)(),s=(0,o.Zp)(),n=(0,o.zy)(),g=(0,m.wA)(),j={search:null,...a},f=(0,c.K)(i.mN);(0,l.useEffect)((()=>{f.setValue("search",j.search)}),[]);return(0,x.jsx)("form",{onSubmit:null===f||void 0===f?void 0:f.handleSubmit((e=>{s(`${n.pathname}?${(0,t.VZ)({...a,...e})}`)})),children:(0,x.jsxs)(r.B,{spacing:5,direction:{base:"column",md:"row"},children:[(0,x.jsx)(r.B,{maxW:"sm",children:(0,x.jsx)(d.A,{...f,typical:"search"})}),(0,x.jsx)(h.p,{typical:"add",permission:"media.create",onClick:()=>{g(u.o1.OPEN_DRAWER({type:p.ADD_MEDIA_DRAWER,size:"xl",data:{}}))}}),(0,x.jsx)(h.p,{type:"submit",permission:"media.view",typical:"search"})]})})};var j=s(19476),f=s(61726),b=s(77121),y=s(19898),v=s(66710),w=s(95890),A=s(64982),C=s(34057),S=s(86217),M=s(12113),E=s(87432),N=s(28257),T=s(65863),D=s(51585),_=s(93389);const k=(0,S.FB)(),R=e=>{const{t:a,location:s,deleteMediaHandler:r}=e;return[k.accessor("name",{cell:e=>(0,x.jsx)(w.E,{children:e.getValue()}),header:a("table.media.name")}),k.accessor("url",{cell:e=>(0,x.jsx)(w.E,{style:N.W,children:e.getValue()}),header:a("table.media.url")}),k.accessor("fileType",{cell:e=>(0,x.jsx)(A.E,{size:"sm",mr:1,colorScheme:M.Tj[Math.floor(Math.random()*M.Tj.length)],children:e.getValue()}),header:a("table.media.type")}),k.accessor("id",{cell:e=>(0,x.jsxs)(C.z,{spacing:"1",children:[(0,x.jsx)(E.A,{icon:(0,x.jsx)(D.bZk,{}),variant:"tertiary",permission:"media.view","aria-label":"View media",as:_.N_,to:(0,t.Gm)(`/dashboard/setting/media/${e.getValue()}`,s)}),(0,x.jsx)(E.A,{icon:(0,x.jsx)(T.WXf,{}),variant:"tertiary",permission:"media.view","aria-label":"Edit media",as:_.N_,to:(0,t.Gm)(`/dashboard/setting/media/${e.getValue()}/edit`,s)}),(0,x.jsx)(E.A,{icon:(0,x.jsx)(T.IXo,{}),variant:"tertiary",permission:"media.view","aria-label":"Delete media",onClick:()=>r(e.row.original.id)})]}),header:a("table.action")})]},z=e=>{const a=(0,o.zy)(),s=(0,m.wA)(),{activedLanguage:r}=(0,m.d4)((e=>e.languageReducer)),{list:n}=(0,m.d4)((e=>e.mediaReducer)),{params:i}=(0,t.lT)(),c=(0,l.useCallback)((e=>{s(y.o1.OPEN_MODAL({type:v.DELETE_CONFIRMATION_MODAL,data:{next:()=>{s(j.o1.DELETE_ASYNC({id:e,params:i})),s(y.o1.CLOSE_MODAL(v.DELETE_CONFIRMATION_MODAL))}}}))}),[]);return(0,l.useMemo)((()=>(0,x.jsx)(f.A,{data:n||[],columns:R({t:b.t,deleteMediaHandler:c,location:a,activedLanguage:r})})),[n])};var I=s(36866);const K=()=>{const{total:e}=(0,m.d4)((e=>e.mediaReducer)),a=(0,m.wA)(),{params:s,fullPath:i}=(0,t.lT)();return(0,l.useEffect)((()=>{a(j.o1.GET_LIST_ASYNC(s))}),[]),(0,l.useEffect)((()=>{a(j.o1.GET_LIST_ASYNC(s))}),[i]),(0,x.jsx)(r.B,{spacing:{base:"8",lg:"6"},children:(0,x.jsx)(n.az,{bg:"bg.surface",boxShadow:{base:"none",md:"sm"},borderRadius:{base:"none",md:"lg"},children:(0,x.jsxs)(r.B,{spacing:"5",children:[(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pt:"5",children:(0,x.jsx)(g,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},overflowX:"scroll",children:(0,x.jsx)(z,{})}),(0,x.jsx)(n.az,{px:{base:"4",md:"6"},pb:"5",children:(0,x.jsx)(r.B,{alignItems:"center",children:(0,x.jsx)(I.A,{total:e})})})]})})})},O=K},64982:(e,a,s)=>{s.d(a,{E:()=>o});var r=s(21376),n=s(91275),i=s(26588),l=s(53546),t=s(15848),c=s(59017),o=(0,r.R)((function(e,a){const s=(0,n.Vl)("Badge",e),{className:r,...o}=(0,i.MN)(e);return(0,c.jsx)(l.B.span,{ref:a,className:(0,t.cx)("chakra-badge",e.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...s}})}));o.displayName="Badge"}}]);
//# sourceMappingURL=9850.4a1950e1.chunk.js.map