"use strict";(self.webpackChunkadmin_cra=self.webpackChunkadmin_cra||[]).push([[9908],{87432:(e,s,r)=>{r.d(s,{A:()=>l});var a=r(19645),t=r(17005),n=r(59017);const l=e=>{const{permission:s,...r}=e,{permission:l}=(0,t.d4)((e=>e.authenticationReducer));if(s){const e=s.split(".");return l&&l[e[0]]&&l[e[0]].includes(e[1])?(0,n.jsx)(a.K,{...r}):(0,n.jsx)(n.Fragment,{})}return(0,n.jsx)(a.K,{...r})}},417:(e,s,r)=>{r.d(s,{A:()=>x});var a=r(44875),t=r(71814),n=r(75404),l=r(92662),i=r(63871),c=r(61002),o=r(73818),d=r(95890),u=r(91530),p=r(77121),m=r(70727),h=r(59017);const x=e=>{const{typical:s,errors:r,register:x,getValues:g,handleSubmit:j,setValue:f,trigger:y,...b}=e;return(0,h.jsxs)(a.MJ,{variant:"floating",id:u.p[s].name,isInvalid:!0,children:[(0,h.jsxs)(t.M,{children:[u.p[s].icon?(0,h.jsx)(n.W,{pointerEvents:"none",children:(0,h.jsx)(l.I,{as:u.p[s].icon,color:"fg.muted",boxSize:"4"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(i.p,{isInvalid:r.hasOwnProperty(u.p[s].name),errorBorderColor:"red.300",type:"password"!==u.p[s].name?"text":"password",...x(u.p[s].name,u.p[s].rules),placeholder:"",...b}),u.p[s].rules&&u.p[s].rules.hasOwnProperty("required")&&u.p[s].rules.required?(0,h.jsxs)(c.l,{children:[(0,p.t)(u.p[s].placeholder),"\xa0",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}):(0,h.jsx)(c.l,{children:(0,p.t)(u.p[s].placeholder)}),!r.hasOwnProperty(u.p[s].name)&&""!=g(u.p[s].name)&&(0,h.jsx)(n.t,{children:(0,h.jsx)(l.I,{as:m.GHp,color:"green.500",boxSize:"5"})})]}),r.hasOwnProperty(u.p[s].name)&&(0,h.jsx)(o.B,{pt:"1",children:(0,h.jsx)(d.E,{color:"tomato",fontSize:"10px",children:(0,h.jsx)("i",{children:(0,p.t)(`error.${r[u.p[s].name].type}`)})})})]})}},36866:(e,s,r)=>{r.d(s,{A:()=>p});var a=r(63812),t=r(75783),n=r(19645),l=r(12113),i=r(66685),c=r(70727),o=r(79590),d=r(12460),u=r(59017);const p=e=>{const{total:s=0}=e,[r,p]=(0,i.useState)(0),{params:m}=(0,d.lT)(),h=(0,o.Zp)(),x=(0,o.zy)(),{page:g=l.XB,size:j=l.md}=m;return(0,u.jsxs)(t.e,{spacing:"3",justifyContent:"space-center",width:{base:"full",md:"auto"},children:[(0,u.jsx)(n.K,{variant:"secondary","aria-label":"Before pagination",onClick:()=>{r>0&&p(r-1)},children:(0,u.jsx)(c.oe,{})}),Array.from(Array(Math.ceil(s/j)).keys()).splice(5*r,5).map((e=>(0,u.jsx)(a.$,{variant:e+1===parseInt(g)?"primary":"secondary",onClick:()=>{e+1>=5*(r+1)&&r+1<Math.ceil(Math.ceil(s/j)/5)&&p(r+1),(e=>{h(`${x.pathname}?${(0,d.VZ)({...m,page:e,size:j})}`)})(e+1)},children:e+1},e))),(0,u.jsx)(n.K,{variant:"secondary","aria-label":"Next pagination",onClick:()=>{r+1<Math.ceil(Math.ceil(s/j)/5)&&p(r+1)},children:(0,u.jsx)(c.oLC,{})})]})}},28257:(e,s,r)=>{r.d(s,{W:()=>a});const a={width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},61726:(e,s,r)=>{r.d(s,{A:()=>D});var a=r(38755),t=r(89574),n=r(86217),l=r(66685),i=r(75100),c=r(38757),o=r(87088),d=r(88171),u=r(56697),p=r(53546),m=r(56166),h=r(21561),x=r(47685),g=r(25787),j=r(63429),f=r(59017);const y=function(e){let{data:s,columns:r}=e;const[a,t]=l.useState([]),y=(0,j.N4)({columns:r,data:s,getCoreRowModel:(0,n.HT)(),onSortingChange:t,getSortedRowModel:(0,n.h5)(),state:{sorting:a}});return(0,f.jsx)(i.K,{className:"custom-table",children:(0,f.jsxs)(c.X,{children:[(0,f.jsx)(o.d,{children:y.getHeaderGroups().map((e=>(0,f.jsx)(d.Tr,{children:e.headers.map((e=>{const s=e.column.columnDef.meta;return(0,f.jsxs)(u.Th,{onClick:e.column.getToggleSortingHandler(),isNumeric:null===s||void 0===s?void 0:s.isNumeric,className:"selected"===e.id?"checkbox-select":"",children:[(0,j.Kv)(e.column.columnDef.header,e.getContext()),(0,f.jsx)(p.B.span,{pl:"4",children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,f.jsx)(x.k,{"aria-label":"sorted descending"}):(0,f.jsx)(g.D,{"aria-label":"sorted ascending"}):null})]},e.id)}))},e.id)))}),(0,f.jsx)(m.N,{children:y.getRowModel().rows.map((e=>(0,f.jsx)(d.Tr,{children:e.getVisibleCells().map((e=>{const s=e.column.columnDef.meta;return(0,f.jsx)(h.Td,{isNumeric:null===s||void 0===s?void 0:s.isNumeric,children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})]})})};var b=r(83841),v=r(22700),C=r(39475),w=r(13716),A=r(34057),S=r(24786),N=r(54757),E=r(26604),T=r(60019),R=r(17005);const k=e=>{const[s,r]=l.useState([]),{data:a,columns:i,permissionGroup:c,onSelect:o}=e,{permission:d}=(0,R.d4)((e=>e.authenticationReducer)),u=(0,j.N4)({columns:i,data:a,getCoreRowModel:(0,n.HT)(),onSortingChange:r,getSortedRowModel:(0,n.h5)(),state:{sorting:s}}).getRowModel().rows;return(0,f.jsx)(b.n,{allowMultiple:!0,children:a.map(((e,s)=>{const r=u.find((s=>s.original===e)),a=r.getVisibleCells().find((e=>e.column.id==i.filter((e=>"selected"!==e.accessorKey))[0].accessorKey));return(0,f.jsxs)(v.A,{children:[(0,f.jsx)("h2",{children:(0,f.jsxs)(C.J,{children:["function"===typeof o&&d&&c&&d[c]&&Array.isArray(d[c])&&d[c].includes("update")?(0,f.jsx)(w.az,{as:"span",flex:"1",textAlign:"left",onClick:e=>e.stopPropagation(),children:(0,f.jsxs)(A.z,{spacing:"3",children:[(0,f.jsx)(t.S,{onChange:r=>{o({id:e.id?e.id:s.toString(),value:r.target.checked})}}),(0,j.Kv)(a.column.columnDef.cell,a.getContext())]})}):(0,j.Kv)(a.column.columnDef.cell,a.getContext()),(0,f.jsx)(S.Q,{})]})}),(0,f.jsx)(N.v,{pb:4,children:i.filter((e=>"selected"!==e.accessorKey)).map((e=>{const a=r.getVisibleCells().find((s=>s.column.id==e.accessorKey));return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(E.s,{my:"5",children:[(0,f.jsx)(w.az,{flex:"1",children:e.header}),(0,f.jsx)(w.az,{flex:"1",children:(0,j.Kv)(a.column.columnDef.cell,a.getContext())})]}),(0,f.jsx)(T.c,{})]},`${s}_${e.accessorKey}`)}))})]},s)}))})},_=(0,n.FB)(),D=e=>{const s=(0,a.A)({base:!0,md:!1}),{data:r,columns:n,permissionGroup:l,onSelect:i}=e,{permission:c}=(0,R.d4)((e=>e.authenticationReducer));return s?(0,f.jsx)(k,{...e}):"function"===typeof i&&c&&l&&c[l]&&Array.isArray(c[l])&&c[l].includes("update")?(0,f.jsx)(y,{data:r,columns:[_.accessor("selected",{cell:e=>(0,f.jsx)(t.S,{onChange:s=>{i({id:e.row.original.id?e.row.original.id:e.row.id,value:s.target.checked})}}),header:""}),...n]}):(0,f.jsx)(y,{data:r,columns:n})}},79908:(e,s,r)=>{r.r(s),r.d(s,{ProductPage:()=>P,default:()=>F});var a=r(73818),t=r(13716),n=r(92376),l=r(66685),i=r(12460),c=r(54990),o=r(79590),d=r(417),u=r(17005),p=r(53678),m=r(53007),h=r(66320),x=r(12113),g=r(77121),j=r(89475),f=r(2483),y=r(59017);const b=e=>{const{permission:s,onChange:r}=e,{permission:a}=(0,u.d4)((e=>e.authenticationReducer)),t=(0,l.useRef)(null);if(s){const e=s.split(".");return a&&a[e[0]]&&a[e[0]].includes(e[1])?(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(h.p,{typical:"import",onClick:()=>{t.current.click()}}),(0,y.jsx)(f.s6,{children:(0,y.jsx)("input",{type:"file",ref:t,onChange:r})})]}):(0,y.jsx)(y.Fragment,{})}return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(h.p,{typical:"import",onClick:()=>{t.current.click()}}),(0,y.jsx)(f.s6,{children:(0,y.jsx)("input",{type:"file",ref:t,onChange:r})})]})};var v=r(18764),C=r(905);const w=e=>{const{params:s}=(0,i.lT)(),r=(0,o.Zp)(),t=(0,o.zy)(),f=(0,u.wA)(),w={search:null,...s},A=(0,c.K)(n.mN);(0,l.useEffect)((()=>{A.setValue("search",w.search)}),[]);return(0,y.jsx)("form",{onSubmit:null===A||void 0===A?void 0:A.handleSubmit((e=>{r(`${t.pathname}?${(0,i.VZ)({...s,...e})}`)})),children:(0,y.jsxs)(a.B,{spacing:5,direction:{base:"column",md:"row"},children:[(0,y.jsx)(a.B,{maxW:"sm",children:(0,y.jsx)(d.A,{...A,typical:"search"})}),(0,y.jsx)(h.p,{typical:"add",permission:"product.create",onClick:()=>{f(p.o1.OPEN_DRAWER({type:m.ADD_PRODUCT_DRAWER,size:"xl",data:{}}))}}),(0,y.jsx)(b,{permission:"product.create",onChange:async e=>{if(e.preventDefault(),e.target.files){const{size:r,type:a}=e.target.files[0];if(r>1e7&&j.A.error((0,g.t)("error.filesize")),!1===x.VV.includes(a)&&j.A.error((0,g.t)("error.filetype")),r<=1e7&&x.VV.includes(a)){(await(0,v.Ku)(e.target.files)).status===x.sh.INCORRECT&&j.A.error((0,g.t)("message.error")),e.target.value=null}f(C.o1.GET_LIST_ASYNC(s)),j.A.success((0,g.t)("message.success"))}else console.log(e.target.files)}}),(0,y.jsx)(h.p,{type:"submit",permission:"product.view",typical:"search"})]})})};var A=r(61726),S=r(19898),N=r(66710),E=r(95890),T=r(64982),R=r(34057),k=r(86217),_=r(87432),D=r(28257),M=r(65863),z=r(51585),V=r(93389),O=r(58938);const I=(0,k.FB)(),K=e=>{const{t:s,location:r,activedLanguage:a,deleteProductHandler:t}=e;return[I.accessor("name",{cell:e=>(0,y.jsx)(E.E,{style:{...D.W,width:"300px"},children:e.getValue()}),header:s("table.product.name")}),I.accessor("description",{cell:e=>(0,y.jsx)(E.E,{style:D.W,children:e.getValue()}),header:s("table.product.description")}),I.accessor("price",{cell:e=>(0,y.jsx)(E.E,{children:e.getValue()}),header:s("table.product.price")}),I.accessor("productTags",{cell:e=>e.getValue().map(((e,s)=>(0,y.jsx)(T.E,{size:"sm",mr:1,colorScheme:x.Tj[s],children:(0,O.G)(e.typeName)[a]},s))),header:s("table.tags")}),I.accessor("slug",{cell:e=>(0,y.jsxs)(R.z,{spacing:"1",children:[(0,y.jsx)(_.A,{icon:(0,y.jsx)(z.bZk,{}),variant:"tertiary",permission:"product.view","aria-label":"View product",as:V.N_,to:(0,i.Gm)(`/dashboard/business/${e.getValue()}`,r)}),(0,y.jsx)(_.A,{icon:(0,y.jsx)(M.WXf,{}),variant:"tertiary",permission:"product.update","aria-label":"Edit product",as:V.N_,to:(0,i.Gm)(`/dashboard/business/${e.getValue()}/edit`,r)}),(0,y.jsx)(_.A,{icon:(0,y.jsx)(M.IXo,{}),variant:"tertiary",permission:"product.delete","aria-label":"Delete product",onClick:()=>t(e.row.original.id)})]}),header:s("table.action")})]},B=e=>{const s=(0,o.zy)(),r=(0,u.wA)(),{activedLanguage:a}=(0,u.d4)((e=>e.languageReducer)),{list:t}=(0,u.d4)((e=>e.productReducer)),{params:n}=(0,i.lT)(),c=(0,l.useCallback)((e=>{r(S.o1.OPEN_MODAL({type:N.DELETE_CONFIRMATION_MODAL,data:{next:()=>{r(C.o1.DELETE_ASYNC({id:e,params:n})),r(S.o1.CLOSE_MODAL(N.DELETE_CONFIRMATION_MODAL))}}}))}),[]);return(0,l.useMemo)((()=>(0,y.jsx)(A.A,{data:t||[],columns:K({t:g.t,deleteProductHandler:c,location:s,activedLanguage:a})})),[t])};var L=r(36866);const P=()=>{const{total:e}=(0,u.d4)((e=>e.productReducer)),s=(0,u.wA)(),{params:r,fullPath:n}=(0,i.lT)();return(0,l.useEffect)((()=>{s(C.o1.GET_LIST_ASYNC(r))}),[]),(0,l.useEffect)((()=>{s(C.o1.GET_LIST_ASYNC(r))}),[n]),(0,y.jsx)(a.B,{spacing:{base:"8",lg:"6"},children:(0,y.jsx)(t.az,{bg:"bg.surface",boxShadow:{base:"none",md:"sm"},borderRadius:{base:"none",md:"lg"},children:(0,y.jsxs)(a.B,{spacing:"5",children:[(0,y.jsx)(t.az,{px:{base:"4",md:"6"},pt:"5",children:(0,y.jsx)(w,{})}),(0,y.jsx)(t.az,{px:{base:"4",md:"6"},overflowX:"scroll",children:(0,y.jsx)(B,{})}),(0,y.jsx)(t.az,{px:{base:"4",md:"6"},pb:"5",children:(0,y.jsx)(a.B,{alignItems:"center",children:(0,y.jsx)(L.A,{total:e})})})]})})})},F=P},64982:(e,s,r)=>{r.d(s,{E:()=>o});var a=r(21376),t=r(91275),n=r(26588),l=r(53546),i=r(15848),c=r(59017),o=(0,a.R)((function(e,s){const r=(0,t.Vl)("Badge",e),{className:a,...o}=(0,n.MN)(e);return(0,c.jsx)(l.B.span,{ref:s,className:(0,i.cx)("chakra-badge",e.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})}));o.displayName="Badge"}}]);
//# sourceMappingURL=9908.00b64a75.chunk.js.map